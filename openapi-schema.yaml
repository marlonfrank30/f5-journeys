openapi: 3.0.2
info:
  version: 1.1.0
  title: JOURNEYS backend
servers:
  - url: 'https://localhost:443'
  - url: 'http://localhost:80'
tags:
  - name: Before You Start
  - name: Session Management
  - name: Source and destination BIG-IP System
  - name: Issue Resolution
    description: Migration only
  - name: Handling of overlapping objects
    description: Per-app only
  - name: Application Management
    description: Per-app only
  - name: File Management
  - name: Change Management
  - name: Issue reports
    description: for migration
  - name: Load validation
  - name: Configuration output and deployment
paths:
  /supported_features:
    get:
      summary: Get list of supported features
      operationId: get_supported_features
      tags:
        - Before You Start
      responses:
        '200':
          description: Supported feature list
          content:
            application/json:
              schema:
                type: object
                required:
                  - items
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example:
                            - Trunk
                            - Virtual Wire
                            - Double Tagging
                            - Compatibility Level
                            - VLAN Groups
                        description:
                          type: string
  /sessions:
    get:
      summary: Information about existing sessions
      operationId: get_sessions
      tags:
        - Session Management
      parameters:
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
        - name: page_size
          in: query
          description: Amount of items returned per page
          schema:
            type: integer
      responses:
        '200':
          description: Sessions list
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    properties:
                      count:
                        type: integer
                        example: 1
                      next:
                        type: string
                        format: url
                        example: null
                      previous:
                        type: string
                        format: url
                        example: null
                  - type: object
                    properties:
                      results:
                        type: array
                        items:
                          type: object
                          required:
                            - id
                            - url
                            - name
                          properties:
                            last_update_time:
                              type: string
                              format: date-time
                              example: '2021-01-28T15:24:05.029102Z'
                            id:
                              type: integer
                            journey_type:
                              type: string
                              enum:
                                - FULL
                                - PER-APP
                            url:
                              type: string
                              example: 'http://localhost/sessions/{session_id}'
                            name:
                              type: string
                            description:
                              type: string
    post:
      summary: Create a new session
      operationId: create_session
      tags:
        - Session Management
      requestBody:
        description: Session name
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                journey_type:
                  type: string
                  enum:
                    - FULL
                    - PER-APP
                description:
                  type: string
      responses:
        '201':
          description: Session details
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - id
                      - url
                      - name
                    properties:
                      last_update_time:
                        type: string
                        format: date-time
                        example: '2021-01-28T15:24:05.029102Z'
                      id:
                        type: integer
                      journey_type:
                        type: string
                        enum:
                          - FULL
                          - PER-APP
                      url:
                        type: string
                        example: 'http://localhost/sessions/{session_id}'
                      name:
                        type: string
                      description:
                        type: string
                  - type: object
                    required:
                      - source
                      - conflicts
                      - changes
                    properties:
                      source:
                        allOf:
                          - allOf:
                              - type: object
                                properties:
                                  host:
                                    type: string
                                    example: 10.0.0.1
                              - type: object
                                properties:
                                  type:
                                    type: string
                                    enum:
                                      - velos
                                      - rseries
                                      - other
                                  platform:
                                    type: string
                                    example: Z101
                                  version:
                                    type: string
                                    example: 14.1.1.0
                          - type: object
                            required:
                              - input_ucs_name
                              - input_as3_name
                            properties:
                              input_ucs_name:
                                type: string
                                example: test.ucs
                              input_as3_name:
                                type: string
                                example: test.json
                      destination:
                        allOf:
                          - type: object
                            properties:
                              host:
                                type: string
                                example: 10.0.0.1
                          - type: object
                            properties:
                              type:
                                type: string
                                enum:
                                  - velos
                                  - rseries
                                  - other
                              platform:
                                type: string
                                example: Z101
                              version:
                                type: string
                                example: 14.1.1.0
                      conflicts:
                        type: array
                        items:
                          type: object
                          required:
                            - id
                            - summary
                          properties:
                            id:
                              type: string
                              example: SPDAG
                            summary:
                              type: string
                              example: 'net vlan example_vlan: Value of field cmp hash is not supported on target platform'
                            resolved:
                              type: boolean
                              example: true
                            affected_objects:
                              type: object
                              additionalProperties: true
                              items:
                                type: string
                              example:
                                - net vlan /Common/vlan1:
                                    file: bigip_base.conf
                                    comment: Value of field cmp-hash is not supported on target platform
                                    object: 'net vlan /Common/vlan1 {\n    cmp-hash src-ip\n    tag 4094\n}'
                                - net vlan /Common/vlan2:
                                    file: bigip_base.conf
                                    comment: Value of field cmp hash is not supported on target platform
                                    object: 'net vlan /Common/vlan2 {\n    cmp-hash dst-ip\n    tag 4094\n}'
                            change:
                              allOf:
                                - type: object
                                  required:
                                    - id
                                    - message
                                    - url
                                  properties:
                                    id:
                                      type: integer
                                    message:
                                      type: string
                                    url:
                                      type: string
                                      example: 'http://localhost/sessions/{session_id}/changes/{change_id}'
                              nullable: true
                      current_conflict:
                        nullable: true
                        allOf:
                          - allOf:
                              - type: object
                                required:
                                  - id
                                  - summary
                                properties:
                                  id:
                                    type: string
                                    example: SPDAG
                                  summary:
                                    type: string
                                    example: 'net vlan example_vlan: Value of field cmp hash is not supported on target platform'
                                  resolved:
                                    type: boolean
                                    example: true
                                  affected_objects:
                                    type: object
                                    additionalProperties: true
                                    items:
                                      type: string
                                    example:
                                      - net vlan /Common/vlan1:
                                          file: bigip_base.conf
                                          comment: Value of field cmp-hash is not supported on target platform
                                          object: 'net vlan /Common/vlan1 {\n    cmp-hash src-ip\n    tag 4094\n}'
                                      - net vlan /Common/vlan2:
                                          file: bigip_base.conf
                                          comment: Value of field cmp hash is not supported on target platform
                                          object: 'net vlan /Common/vlan2 {\n    cmp-hash dst-ip\n    tag 4094\n}'
                                  change:
                                    allOf:
                                      - type: object
                                        required:
                                          - id
                                          - message
                                          - url
                                        properties:
                                          id:
                                            type: integer
                                          message:
                                            type: string
                                          url:
                                            type: string
                                            example: 'http://localhost/sessions/{session_id}/changes/{change_id}'
                                    nullable: true
                              - type: object
                                required:
                                  - mitigations
                                properties:
                                  files:
                                    type: array
                                    items:
                                      type: object
                                      required:
                                        - path
                                        - url
                                      properties:
                                        path:
                                          type: string
                                          example: config/bigip.conf
                                        url:
                                          type: string
                                          example: 'http://localhost/sessions/1/files/config/bigip.conf'
                                  mitigations:
                                    type: array
                                    items:
                                      type: object
                                      required:
                                        - name
                                        - files
                                      properties:
                                        name:
                                          type: string
                                          example: SPDAG_delete_objects
                                        files:
                                          type: array
                                          items:
                                            type: object
                                            required:
                                              - path
                                              - url
                                            properties:
                                              path:
                                                type: string
                                                example: config/bigip.conf
                                              url:
                                                type: string
                                                example: 'http://localhost/sessions/1/files/config/bigip.conf'
                      changes:
                        type: array
                        items:
                          type: object
                          required:
                            - id
                            - message
                            - url
                          properties:
                            id:
                              type: integer
                            message:
                              type: string
                            url:
                              type: string
                              example: 'http://localhost/sessions/{session_id}/changes/{change_id}'
                      instructions:
                        type: object
                        properties:
                          message:
                            type: string
                      deployments:
                        type: array
                        items:
                          type: object
                          required:
                            - destination
                            - validators
                          properties:
                            id:
                              type: integer
                              readOnly: true
                              example: 1
                            url:
                              type: string
                              format: uri
                              readOnly: true
                            source:
                              type: object
                              properties:
                                host:
                                  type: string
                                  example: 10.0.0.1
                                username:
                                  type: string
                                  example: root
                                password:
                                  type: string
                                  example: default
                                  writeOnly: true
                            destination:
                              type: object
                              properties:
                                host:
                                  type: string
                                  example: 10.0.0.2
                                username:
                                  type: string
                                  example: root
                                password:
                                  type: string
                                  example: default
                                  writeOnly: true
                            bigiq:
                              type: object
                              properties:
                                host:
                                  type: string
                                  example: 10.0.0.2
                                username:
                                  type: string
                                  example: root
                                password:
                                  type: string
                                  example: default
                                  writeOnly: true
                            validators:
                              type: array
                              items:
                                type: string
                                enum:
                                  - MCP status
                                  - TMM status
                                  - Prompt state
                                  - Core dumps
                                  - DB compare
                                  - Memory footprint
                                  - Version check
                                  - LTM VS check
                                  - Log watcher
                              additionalProperties: true
                              example:
                                - Prompt state
                                - MCP status
                                - Log watcher
                            save_backup:
                              type: boolean
                            status:
                              type: string
                              enum:
                                - Deploying
                                - Diagnosing
                                - Process failed
                                - Process completed
                              readOnly: true
                      config_files:
                        type: object
                        additionalProperties:
                          type: string
                          format: url
                        example:
                          config/bigip.conf: 'http://localhost/sessions/1/files/config/bigip.conf'
                          config/bigip_base.conf: 'http://localhost/sessions/1/config/bigip_base.conf'
                      last_page:
                        type: string
                        enum:
                          - source_system
                          - configuration_analysis
                          - resolve_conflicts
                          - resolution_summary
                          - journey_summary
                          - deployment
                          - deployment_results
                          - general_properties
                          - applications
                          - as3_conversion
                          - diagnostics
                      allow_deployments:
                        type: boolean
  '/sessions/{session_id}':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
    get:
      summary: Get information about existing session
      operationId: get_session_details
      tags:
        - Session Management
      responses:
        '200':
          description: Session details
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - id
                      - url
                      - name
                    properties:
                      last_update_time:
                        type: string
                        format: date-time
                        example: '2021-01-28T15:24:05.029102Z'
                      id:
                        type: integer
                      journey_type:
                        type: string
                        enum:
                          - FULL
                          - PER-APP
                      url:
                        type: string
                        example: 'http://localhost/sessions/{session_id}'
                      name:
                        type: string
                      description:
                        type: string
                  - type: object
                    required:
                      - source
                      - conflicts
                      - changes
                    properties:
                      source:
                        allOf:
                          - allOf:
                              - type: object
                                properties:
                                  host:
                                    type: string
                                    example: 10.0.0.1
                              - type: object
                                properties:
                                  type:
                                    type: string
                                    enum:
                                      - velos
                                      - rseries
                                      - other
                                  platform:
                                    type: string
                                    example: Z101
                                  version:
                                    type: string
                                    example: 14.1.1.0
                          - type: object
                            required:
                              - input_ucs_name
                              - input_as3_name
                            properties:
                              input_ucs_name:
                                type: string
                                example: test.ucs
                              input_as3_name:
                                type: string
                                example: test.json
                      destination:
                        allOf:
                          - type: object
                            properties:
                              host:
                                type: string
                                example: 10.0.0.1
                          - type: object
                            properties:
                              type:
                                type: string
                                enum:
                                  - velos
                                  - rseries
                                  - other
                              platform:
                                type: string
                                example: Z101
                              version:
                                type: string
                                example: 14.1.1.0
                      conflicts:
                        type: array
                        items:
                          type: object
                          required:
                            - id
                            - summary
                          properties:
                            id:
                              type: string
                              example: SPDAG
                            summary:
                              type: string
                              example: 'net vlan example_vlan: Value of field cmp hash is not supported on target platform'
                            resolved:
                              type: boolean
                              example: true
                            affected_objects:
                              type: object
                              additionalProperties: true
                              items:
                                type: string
                              example:
                                - net vlan /Common/vlan1:
                                    file: bigip_base.conf
                                    comment: Value of field cmp-hash is not supported on target platform
                                    object: 'net vlan /Common/vlan1 {\n    cmp-hash src-ip\n    tag 4094\n}'
                                - net vlan /Common/vlan2:
                                    file: bigip_base.conf
                                    comment: Value of field cmp hash is not supported on target platform
                                    object: 'net vlan /Common/vlan2 {\n    cmp-hash dst-ip\n    tag 4094\n}'
                            change:
                              allOf:
                                - type: object
                                  required:
                                    - id
                                    - message
                                    - url
                                  properties:
                                    id:
                                      type: integer
                                    message:
                                      type: string
                                    url:
                                      type: string
                                      example: 'http://localhost/sessions/{session_id}/changes/{change_id}'
                              nullable: true
                      current_conflict:
                        nullable: true
                        allOf:
                          - allOf:
                              - type: object
                                required:
                                  - id
                                  - summary
                                properties:
                                  id:
                                    type: string
                                    example: SPDAG
                                  summary:
                                    type: string
                                    example: 'net vlan example_vlan: Value of field cmp hash is not supported on target platform'
                                  resolved:
                                    type: boolean
                                    example: true
                                  affected_objects:
                                    type: object
                                    additionalProperties: true
                                    items:
                                      type: string
                                    example:
                                      - net vlan /Common/vlan1:
                                          file: bigip_base.conf
                                          comment: Value of field cmp-hash is not supported on target platform
                                          object: 'net vlan /Common/vlan1 {\n    cmp-hash src-ip\n    tag 4094\n}'
                                      - net vlan /Common/vlan2:
                                          file: bigip_base.conf
                                          comment: Value of field cmp hash is not supported on target platform
                                          object: 'net vlan /Common/vlan2 {\n    cmp-hash dst-ip\n    tag 4094\n}'
                                  change:
                                    allOf:
                                      - type: object
                                        required:
                                          - id
                                          - message
                                          - url
                                        properties:
                                          id:
                                            type: integer
                                          message:
                                            type: string
                                          url:
                                            type: string
                                            example: 'http://localhost/sessions/{session_id}/changes/{change_id}'
                                    nullable: true
                              - type: object
                                required:
                                  - mitigations
                                properties:
                                  files:
                                    type: array
                                    items:
                                      type: object
                                      required:
                                        - path
                                        - url
                                      properties:
                                        path:
                                          type: string
                                          example: config/bigip.conf
                                        url:
                                          type: string
                                          example: 'http://localhost/sessions/1/files/config/bigip.conf'
                                  mitigations:
                                    type: array
                                    items:
                                      type: object
                                      required:
                                        - name
                                        - files
                                      properties:
                                        name:
                                          type: string
                                          example: SPDAG_delete_objects
                                        files:
                                          type: array
                                          items:
                                            type: object
                                            required:
                                              - path
                                              - url
                                            properties:
                                              path:
                                                type: string
                                                example: config/bigip.conf
                                              url:
                                                type: string
                                                example: 'http://localhost/sessions/1/files/config/bigip.conf'
                      changes:
                        type: array
                        items:
                          type: object
                          required:
                            - id
                            - message
                            - url
                          properties:
                            id:
                              type: integer
                            message:
                              type: string
                            url:
                              type: string
                              example: 'http://localhost/sessions/{session_id}/changes/{change_id}'
                      instructions:
                        type: object
                        properties:
                          message:
                            type: string
                      deployments:
                        type: array
                        items:
                          type: object
                          required:
                            - destination
                            - validators
                          properties:
                            id:
                              type: integer
                              readOnly: true
                              example: 1
                            url:
                              type: string
                              format: uri
                              readOnly: true
                            source:
                              type: object
                              properties:
                                host:
                                  type: string
                                  example: 10.0.0.1
                                username:
                                  type: string
                                  example: root
                                password:
                                  type: string
                                  example: default
                                  writeOnly: true
                            destination:
                              type: object
                              properties:
                                host:
                                  type: string
                                  example: 10.0.0.2
                                username:
                                  type: string
                                  example: root
                                password:
                                  type: string
                                  example: default
                                  writeOnly: true
                            bigiq:
                              type: object
                              properties:
                                host:
                                  type: string
                                  example: 10.0.0.2
                                username:
                                  type: string
                                  example: root
                                password:
                                  type: string
                                  example: default
                                  writeOnly: true
                            validators:
                              type: array
                              items:
                                type: string
                                enum:
                                  - MCP status
                                  - TMM status
                                  - Prompt state
                                  - Core dumps
                                  - DB compare
                                  - Memory footprint
                                  - Version check
                                  - LTM VS check
                                  - Log watcher
                              additionalProperties: true
                              example:
                                - Prompt state
                                - MCP status
                                - Log watcher
                            save_backup:
                              type: boolean
                            status:
                              type: string
                              enum:
                                - Deploying
                                - Diagnosing
                                - Process failed
                                - Process completed
                              readOnly: true
                      config_files:
                        type: object
                        additionalProperties:
                          type: string
                          format: url
                        example:
                          config/bigip.conf: 'http://localhost/sessions/1/files/config/bigip.conf'
                          config/bigip_base.conf: 'http://localhost/sessions/1/config/bigip_base.conf'
                      last_page:
                        type: string
                        enum:
                          - source_system
                          - configuration_analysis
                          - resolve_conflicts
                          - resolution_summary
                          - journey_summary
                          - deployment
                          - deployment_results
                          - general_properties
                          - applications
                          - as3_conversion
                          - diagnostics
                      allow_deployments:
                        type: boolean
        '404':
          description: No session exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
    put:
      summary: Update session with current page.
      description: It also updates visited pages list.
      operationId: update_session_page
      tags:
        - Session Management
      requestBody:
        description: Current page
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - last_page
              properties:
                last_page:
                  type: string
                  enum:
                    - source_system
                    - configuration_analysis
                    - resolve_conflicts
                    - resolution_summary
                    - journey_summary
                    - deployment
                    - deployment_results
                    - general_properties
                    - applications
                    - as3_conversion
                    - diagnostics
      responses:
        '200':
          description: Session details
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - id
                      - url
                      - name
                    properties:
                      last_update_time:
                        type: string
                        format: date-time
                        example: '2021-01-28T15:24:05.029102Z'
                      id:
                        type: integer
                      journey_type:
                        type: string
                        enum:
                          - FULL
                          - PER-APP
                      url:
                        type: string
                        example: 'http://localhost/sessions/{session_id}'
                      name:
                        type: string
                      description:
                        type: string
                  - type: object
                    required:
                      - source
                      - conflicts
                      - changes
                    properties:
                      source:
                        allOf:
                          - allOf:
                              - type: object
                                properties:
                                  host:
                                    type: string
                                    example: 10.0.0.1
                              - type: object
                                properties:
                                  type:
                                    type: string
                                    enum:
                                      - velos
                                      - rseries
                                      - other
                                  platform:
                                    type: string
                                    example: Z101
                                  version:
                                    type: string
                                    example: 14.1.1.0
                          - type: object
                            required:
                              - input_ucs_name
                              - input_as3_name
                            properties:
                              input_ucs_name:
                                type: string
                                example: test.ucs
                              input_as3_name:
                                type: string
                                example: test.json
                      destination:
                        allOf:
                          - type: object
                            properties:
                              host:
                                type: string
                                example: 10.0.0.1
                          - type: object
                            properties:
                              type:
                                type: string
                                enum:
                                  - velos
                                  - rseries
                                  - other
                              platform:
                                type: string
                                example: Z101
                              version:
                                type: string
                                example: 14.1.1.0
                      conflicts:
                        type: array
                        items:
                          type: object
                          required:
                            - id
                            - summary
                          properties:
                            id:
                              type: string
                              example: SPDAG
                            summary:
                              type: string
                              example: 'net vlan example_vlan: Value of field cmp hash is not supported on target platform'
                            resolved:
                              type: boolean
                              example: true
                            affected_objects:
                              type: object
                              additionalProperties: true
                              items:
                                type: string
                              example:
                                - net vlan /Common/vlan1:
                                    file: bigip_base.conf
                                    comment: Value of field cmp-hash is not supported on target platform
                                    object: 'net vlan /Common/vlan1 {\n    cmp-hash src-ip\n    tag 4094\n}'
                                - net vlan /Common/vlan2:
                                    file: bigip_base.conf
                                    comment: Value of field cmp hash is not supported on target platform
                                    object: 'net vlan /Common/vlan2 {\n    cmp-hash dst-ip\n    tag 4094\n}'
                            change:
                              allOf:
                                - type: object
                                  required:
                                    - id
                                    - message
                                    - url
                                  properties:
                                    id:
                                      type: integer
                                    message:
                                      type: string
                                    url:
                                      type: string
                                      example: 'http://localhost/sessions/{session_id}/changes/{change_id}'
                              nullable: true
                      current_conflict:
                        nullable: true
                        allOf:
                          - allOf:
                              - type: object
                                required:
                                  - id
                                  - summary
                                properties:
                                  id:
                                    type: string
                                    example: SPDAG
                                  summary:
                                    type: string
                                    example: 'net vlan example_vlan: Value of field cmp hash is not supported on target platform'
                                  resolved:
                                    type: boolean
                                    example: true
                                  affected_objects:
                                    type: object
                                    additionalProperties: true
                                    items:
                                      type: string
                                    example:
                                      - net vlan /Common/vlan1:
                                          file: bigip_base.conf
                                          comment: Value of field cmp-hash is not supported on target platform
                                          object: 'net vlan /Common/vlan1 {\n    cmp-hash src-ip\n    tag 4094\n}'
                                      - net vlan /Common/vlan2:
                                          file: bigip_base.conf
                                          comment: Value of field cmp hash is not supported on target platform
                                          object: 'net vlan /Common/vlan2 {\n    cmp-hash dst-ip\n    tag 4094\n}'
                                  change:
                                    allOf:
                                      - type: object
                                        required:
                                          - id
                                          - message
                                          - url
                                        properties:
                                          id:
                                            type: integer
                                          message:
                                            type: string
                                          url:
                                            type: string
                                            example: 'http://localhost/sessions/{session_id}/changes/{change_id}'
                                    nullable: true
                              - type: object
                                required:
                                  - mitigations
                                properties:
                                  files:
                                    type: array
                                    items:
                                      type: object
                                      required:
                                        - path
                                        - url
                                      properties:
                                        path:
                                          type: string
                                          example: config/bigip.conf
                                        url:
                                          type: string
                                          example: 'http://localhost/sessions/1/files/config/bigip.conf'
                                  mitigations:
                                    type: array
                                    items:
                                      type: object
                                      required:
                                        - name
                                        - files
                                      properties:
                                        name:
                                          type: string
                                          example: SPDAG_delete_objects
                                        files:
                                          type: array
                                          items:
                                            type: object
                                            required:
                                              - path
                                              - url
                                            properties:
                                              path:
                                                type: string
                                                example: config/bigip.conf
                                              url:
                                                type: string
                                                example: 'http://localhost/sessions/1/files/config/bigip.conf'
                      changes:
                        type: array
                        items:
                          type: object
                          required:
                            - id
                            - message
                            - url
                          properties:
                            id:
                              type: integer
                            message:
                              type: string
                            url:
                              type: string
                              example: 'http://localhost/sessions/{session_id}/changes/{change_id}'
                      instructions:
                        type: object
                        properties:
                          message:
                            type: string
                      deployments:
                        type: array
                        items:
                          type: object
                          required:
                            - destination
                            - validators
                          properties:
                            id:
                              type: integer
                              readOnly: true
                              example: 1
                            url:
                              type: string
                              format: uri
                              readOnly: true
                            source:
                              type: object
                              properties:
                                host:
                                  type: string
                                  example: 10.0.0.1
                                username:
                                  type: string
                                  example: root
                                password:
                                  type: string
                                  example: default
                                  writeOnly: true
                            destination:
                              type: object
                              properties:
                                host:
                                  type: string
                                  example: 10.0.0.2
                                username:
                                  type: string
                                  example: root
                                password:
                                  type: string
                                  example: default
                                  writeOnly: true
                            bigiq:
                              type: object
                              properties:
                                host:
                                  type: string
                                  example: 10.0.0.2
                                username:
                                  type: string
                                  example: root
                                password:
                                  type: string
                                  example: default
                                  writeOnly: true
                            validators:
                              type: array
                              items:
                                type: string
                                enum:
                                  - MCP status
                                  - TMM status
                                  - Prompt state
                                  - Core dumps
                                  - DB compare
                                  - Memory footprint
                                  - Version check
                                  - LTM VS check
                                  - Log watcher
                              additionalProperties: true
                              example:
                                - Prompt state
                                - MCP status
                                - Log watcher
                            save_backup:
                              type: boolean
                            status:
                              type: string
                              enum:
                                - Deploying
                                - Diagnosing
                                - Process failed
                                - Process completed
                              readOnly: true
                      config_files:
                        type: object
                        additionalProperties:
                          type: string
                          format: url
                        example:
                          config/bigip.conf: 'http://localhost/sessions/1/files/config/bigip.conf'
                          config/bigip_base.conf: 'http://localhost/sessions/1/config/bigip_base.conf'
                      last_page:
                        type: string
                        enum:
                          - source_system
                          - configuration_analysis
                          - resolve_conflicts
                          - resolution_summary
                          - journey_summary
                          - deployment
                          - deployment_results
                          - general_properties
                          - applications
                          - as3_conversion
                          - diagnostics
                      allow_deployments:
                        type: boolean
        '404':
          description: No session exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
    delete:
      summary: Delete existing session
      operationId: delete_session
      tags:
        - Session Management
      responses:
        '204':
          description: Session deleted
        '404':
          description: No session exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  /test_credentials:
    post:
      summary: Test connection using credentials
      operationId: test_connection
      tags:
        - Source and destination BIG-IP System
      requestBody:
        description: System Credentials
        required: true
        content:
          application/json:
            schema:
              allOf:
                - type: object
                  required:
                    - username
                    - password
                  properties:
                    username:
                      type: string
                    password:
                      type: string
                      format: password
                      writeOnly: true
                - type: object
                  required:
                    - host
                  properties:
                    host:
                      type: string
      responses:
        '200':
          description: OK
        '401':
          description: Given credentials are not valid
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: 'Invalid credentials: 10.0.0.1'
                  status_code:
                    type: integer
                    example: 401
        '404':
          description: Given system does not exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/source':
    post:
      summary: Provide configuration_source
      operationId: provide_source
      tags:
        - Source and destination BIG-IP System
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        description: UCS and Optional passphrase
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                ucs_file:
                  type: string
                  format: binary
                ucs_passphrase:
                  type: string
                as3_file:
                  type: string
                  format: binary
                username:
                  type: string
                password:
                  type: string
                  format: password
                host:
                  type: string
                master_key:
                  type: string
      responses:
        '201':
          description: Success
        '400':
          description: Cannot process uploaded file or no passphrase provided for encrypted file.
          content:
            application/json:
              schema:
                type: object
                required:
                  - status_code
                  - detail
                properties:
                  detail:
                    type: string
                  status_code:
                    type: integer
        '401':
          description: Given credentials are not valid
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: 'Invalid credentials: 10.0.0.1'
                  status_code:
                    type: integer
                    example: 401
        '404':
          description: Given system does not exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '409':
          description: Migration process has already been started.
          content:
            application/json:
              schema:
                type: object
                required:
                  - status_code
                  - detail
                properties:
                  detail:
                    type: string
                  status_code:
                    type: integer
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/destination':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
    post:
      summary: Retrieve destination device data from a live system.
      operationId: post_destination_data
      tags:
        - Source and destination BIG-IP System
      requestBody:
        description: System Credentials
        required: true
        content:
          application/json:
            schema:
              allOf:
                - allOf:
                    - type: object
                      required:
                        - username
                        - password
                      properties:
                        username:
                          type: string
                        password:
                          type: string
                          format: password
                          writeOnly: true
                    - type: object
                      required:
                        - host
                      properties:
                        host:
                          type: string
                - type: object
                  properties:
                    verify_version:
                      type: boolean
                      description: Enables version comparison between source and destination
                      default: true
      responses:
        '200':
          description: Device data
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    properties:
                      host:
                        type: string
                        nullable: true
                  - type: object
                    properties:
                      type:
                        type: string
                        enum:
                          - velos
                          - rseries
                          - other
                      platform:
                        type: string
                        example: Z101
                      version:
                        type: string
                        example: 14.1.1.0
        '400':
          content:
            application/json:
              schema:
                type: object
                required:
                  - status_code
                  - detail
                properties:
                  detail:
                    type: string
                  status_code:
                    type: integer
          description: Destination already provided or there's an issue with given data
        '401':
          description: Given credentials are not valid
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: 'Invalid credentials: 10.0.0.1'
                  status_code:
                    type: integer
                    example: 401
        '404':
          description: Given session or provided system does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
    put:
      summary: Manually set destination device data.
      operationId: put_destination_data
      tags:
        - Source and destination BIG-IP System
      requestBody:
        description: Destination device details
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                type:
                  type: string
                  enum:
                    - velos
                    - rseries
                    - other
                platform:
                  type: string
                  example: Z101
                version:
                  type: string
                  example: 14.1.1.0
      responses:
        '200':
          description: Device data
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    properties:
                      host:
                        type: string
                        nullable: true
                  - type: object
                    properties:
                      type:
                        type: string
                        enum:
                          - velos
                          - rseries
                          - other
                      platform:
                        type: string
                        example: Z101
                      version:
                        type: string
                        example: 14.1.1.0
        '404':
          description: No session exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
    get:
      summary: Get destination device data.
      operationId: get_destination_data
      tags:
        - Source and destination BIG-IP System
      responses:
        '200':
          description: Device data
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    properties:
                      host:
                        type: string
                        nullable: true
                  - type: object
                    properties:
                      type:
                        type: string
                        enum:
                          - velos
                          - rseries
                          - other
                      platform:
                        type: string
                        example: Z101
                      version:
                        type: string
                        example: 14.1.1.0
    delete:
      summary: Delete destination device data.
      operationId: delete_destination_data
      tags:
        - Source and destination BIG-IP System
      responses:
        '204':
          description: Device data was deleted.
  '/sessions/{session_id}/issues_report':
    post:
      summary: Get issues report
      operationId: generate_conflicts_report
      tags:
        - Issue reports
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Report about issues found in the configration
          content:
            application/json:
              schema:
                type: object
                required:
                  - issues_report
                properties:
                  issues_report:
                    type: string
                    example: 'http://<hostname>/sessions/<session_id>/root_files/issues_report.pdf'
        '204':
          description: Report is empty
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/conflicts':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
    post:
      summary: Generate session conflicts
      operationId: post_session_conflicts
      tags:
        - Issue Resolution
      responses:
        '200':
          description: List of (Remaining) issues to resolve
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  required:
                    - id
                    - summary
                  properties:
                    id:
                      type: string
                      example: SPDAG
                    summary:
                      type: string
                      example: 'net vlan example_vlan: Value of field cmp hash is not supported on target platform'
                    resolved:
                      type: boolean
                      example: true
                    affected_objects:
                      type: object
                      additionalProperties: true
                      items:
                        type: string
                      example:
                        - net vlan /Common/vlan1:
                            file: bigip_base.conf
                            comment: Value of field cmp-hash is not supported on target platform
                            object: 'net vlan /Common/vlan1 {\n    cmp-hash src-ip\n    tag 4094\n}'
                        - net vlan /Common/vlan2:
                            file: bigip_base.conf
                            comment: Value of field cmp hash is not supported on target platform
                            object: 'net vlan /Common/vlan2 {\n    cmp-hash dst-ip\n    tag 4094\n}'
                    change:
                      allOf:
                        - type: object
                          required:
                            - id
                            - message
                            - url
                          properties:
                            id:
                              type: integer
                            message:
                              type: string
                            url:
                              type: string
                              example: 'http://localhost/sessions/{session_id}/changes/{change_id}'
                      nullable: true
        '404':
          description: No session exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        '409':
          content:
            application/json:
              schema:
                type: object
                required:
                  - status_code
                  - detail
                properties:
                  detail:
                    type: string
                  status_code:
                    type: integer
          description: It's not possible to generate conflicts without source ucs
    get:
      summary: Get session conflicts
      operationId: get_session_conflicts
      tags:
        - Issue Resolution
      responses:
        '200':
          description: List of (Remaining) issues to resolve
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  required:
                    - id
                    - summary
                  properties:
                    id:
                      type: string
                      example: SPDAG
                    summary:
                      type: string
                      example: 'net vlan example_vlan: Value of field cmp hash is not supported on target platform'
                    resolved:
                      type: boolean
                      example: true
                    affected_objects:
                      type: object
                      additionalProperties: true
                      items:
                        type: string
                      example:
                        - net vlan /Common/vlan1:
                            file: bigip_base.conf
                            comment: Value of field cmp-hash is not supported on target platform
                            object: 'net vlan /Common/vlan1 {\n    cmp-hash src-ip\n    tag 4094\n}'
                        - net vlan /Common/vlan2:
                            file: bigip_base.conf
                            comment: Value of field cmp hash is not supported on target platform
                            object: 'net vlan /Common/vlan2 {\n    cmp-hash dst-ip\n    tag 4094\n}'
                    change:
                      allOf:
                        - type: object
                          required:
                            - id
                            - message
                            - url
                          properties:
                            id:
                              type: integer
                            message:
                              type: string
                            url:
                              type: string
                              example: 'http://localhost/sessions/{session_id}/changes/{change_id}'
                      nullable: true
        '404':
          description: No session exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
  '/sessions/{session_id}/warnings':
    get:
      summary: Get any generated warnings
      operationId: get_session_warnings
      tags:
        - 5. Resolve Issues
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: A list of warnings generated by JOURNEYS
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
        '404':
          description: No session exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
  '/sessions/{session_id}/resolve_automatically':
    post:
      summary: Resolve all remaining issues automatically using recommended solutions
      operationId: resolve_conflicts_automatically
      tags:
        - Issue Resolution
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: List of changes made
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  required:
                    - id
                    - message
                    - url
                  properties:
                    id:
                      type: integer
                    message:
                      type: string
                    url:
                      type: string
                      example: 'http://localhost/sessions/{session_id}/changes/{change_id}'
        '404':
          description: No session exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/current_conflict':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
    post:
      summary: Set an issue to resolve
      operationId: set_current_conflict
      tags:
        - Issue Resolution
      requestBody:
        description: Issue chosen to be resolved next
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - conflict_id
              properties:
                conflict_id:
                  type: string
      responses:
        '200':
          description: Details of an issue including mitigations
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - id
                      - summary
                    properties:
                      id:
                        type: string
                        example: SPDAG
                      summary:
                        type: string
                        example: 'net vlan example_vlan: Value of field cmp hash is not supported on target platform'
                      resolved:
                        type: boolean
                        example: true
                      affected_objects:
                        type: object
                        additionalProperties: true
                        items:
                          type: string
                        example:
                          - net vlan /Common/vlan1:
                              file: bigip_base.conf
                              comment: Value of field cmp-hash is not supported on target platform
                              object: 'net vlan /Common/vlan1 {\n    cmp-hash src-ip\n    tag 4094\n}'
                          - net vlan /Common/vlan2:
                              file: bigip_base.conf
                              comment: Value of field cmp hash is not supported on target platform
                              object: 'net vlan /Common/vlan2 {\n    cmp-hash dst-ip\n    tag 4094\n}'
                      change:
                        allOf:
                          - type: object
                            required:
                              - id
                              - message
                              - url
                            properties:
                              id:
                                type: integer
                              message:
                                type: string
                              url:
                                type: string
                                example: 'http://localhost/sessions/{session_id}/changes/{change_id}'
                        nullable: true
                  - type: object
                    required:
                      - mitigations
                    properties:
                      files:
                        type: array
                        items:
                          type: object
                          required:
                            - path
                            - url
                          properties:
                            path:
                              type: string
                              example: config/bigip.conf
                            url:
                              type: string
                              example: 'http://localhost/sessions/1/files/config/bigip.conf'
                      mitigations:
                        type: array
                        items:
                          type: object
                          required:
                            - name
                            - files
                          properties:
                            name:
                              type: string
                              example: SPDAG_delete_objects
                            files:
                              type: array
                              items:
                                type: object
                                required:
                                  - path
                                  - url
                                properties:
                                  path:
                                    type: string
                                    example: config/bigip.conf
                                  url:
                                    type: string
                                    example: 'http://localhost/sessions/1/files/config/bigip.conf'
        '400':
          description: Given issue does not exist.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    additionalProperties: true
                    items:
                      type: array
                      items:
                        type: string
                    example:
                      __all__:
                        - Invalid request body
                      field:
                        - Invalid name
                  status_code:
                    type: integer
                    example: 400
        '404':
          description: No session exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        '409':
          description: Local changes was detected.
          content:
            application/json:
              schema:
                type: object
                required:
                  - status_code
                  - detail
                properties:
                  detail:
                    type: string
                  status_code:
                    type: integer
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
    delete:
      summary: Reverts setting current conflict
      operationId: clear_current_conflict
      tags:
        - Issue Resolution
      responses:
        '204':
          description: Current issue cleared
        '404':
          description: No session exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/current_conflict/mitigation':
    post:
      summary: Use mitigation for the current issue
      operationId: set_mitigation
      tags:
        - Issue Resolution
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        description: Mitigation choosen to be resolved
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
      responses:
        '200':
          description: List of (Remaining) issues to resolve
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  required:
                    - id
                    - summary
                  properties:
                    id:
                      type: string
                      example: SPDAG
                    summary:
                      type: string
                      example: 'net vlan example_vlan: Value of field cmp hash is not supported on target platform'
                    resolved:
                      type: boolean
                      example: true
                    affected_objects:
                      type: object
                      additionalProperties: true
                      items:
                        type: string
                      example:
                        - net vlan /Common/vlan1:
                            file: bigip_base.conf
                            comment: Value of field cmp-hash is not supported on target platform
                            object: 'net vlan /Common/vlan1 {\n    cmp-hash src-ip\n    tag 4094\n}'
                        - net vlan /Common/vlan2:
                            file: bigip_base.conf
                            comment: Value of field cmp hash is not supported on target platform
                            object: 'net vlan /Common/vlan2 {\n    cmp-hash dst-ip\n    tag 4094\n}'
                    change:
                      allOf:
                        - type: object
                          required:
                            - id
                            - message
                            - url
                          properties:
                            id:
                              type: integer
                            message:
                              type: string
                            url:
                              type: string
                              example: 'http://localhost/sessions/{session_id}/changes/{change_id}'
                      nullable: true
        '400':
          description: Invalid mitigation
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    additionalProperties: true
                    items:
                      type: array
                      items:
                        type: string
                    example:
                      __all__:
                        - Invalid request body
                      field:
                        - Invalid name
                  status_code:
                    type: integer
                    example: 400
        '404':
          description: No session exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        '409':
          description: Current issue is not set
          content:
            application/json:
              schema:
                type: object
                required:
                  - status_code
                  - detail
                properties:
                  detail:
                    type: string
                  status_code:
                    type: integer
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/files/{file_path}':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
      - name: file_path
        in: path
        required: true
        schema:
          type: string
    get:
      summary: Get content of the file
      operationId: get_file_content
      tags:
        - File Management
      responses:
        '200':
          description: File content
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
        '404':
          description: File does not exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
    put:
      summary: Provide updated file content
      operationId: post_file_change
      tags:
        - File Management
      requestBody:
        description: New content of a file
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
      responses:
        '202':
          description: Accepted
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
    delete:
      summary: Delete file
      operationId: delete_file
      tags:
        - File Management
      responses:
        '204':
          description: File deleted
        '404':
          description: File does not exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/branches/{branch_name}/files/{file_path}':
    get:
      summary: Get content of the file from a given branch
      operationId: get_file_content_branch
      tags:
        - File Management
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
        - name: branch_name
          in: path
          required: true
          schema:
            type: string
        - name: file_path
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: File content
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
        '404':
          description: 'File, branch or session does not exist'
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/virtual_files/{file_path}':
    get:
      summary: Get content of the virtual server config file
      operationId: get_virtual_file_content
      tags:
        - File Management
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
        - name: file_path
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: File content
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
        '404':
          description: File does not exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
    put:
      summary: Provide updated virtual file content
      operationId: post_virtual_file_change
      tags:
        - File Management
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
        - name: file_path
          in: path
          required: true
          schema:
            type: string
      requestBody:
        description: New content of a file
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
      responses:
        '202':
          description: Accepted
        '401':
          content:
            application/json:
              schema:
                type: object
                required:
                  - status_code
                  - detail
                properties:
                  detail:
                    type: string
                  status_code:
                    type: integer
          description: Cannot update following file. Only *.conf files allowed
        '404':
          description: File does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/changes':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
    post:
      summary: Provide content change
      operationId: post_change
      tags:
        - Change Management
      requestBody:
        content:
          application/json:
            schema:
              properties:
                message:
                  type: string
      responses:
        '200':
          description: List of (Remaining) issues to resolve
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  required:
                    - id
                    - summary
                  properties:
                    id:
                      type: string
                      example: SPDAG
                    summary:
                      type: string
                      example: 'net vlan example_vlan: Value of field cmp hash is not supported on target platform'
                    resolved:
                      type: boolean
                      example: true
                    affected_objects:
                      type: object
                      additionalProperties: true
                      items:
                        type: string
                      example:
                        - net vlan /Common/vlan1:
                            file: bigip_base.conf
                            comment: Value of field cmp-hash is not supported on target platform
                            object: 'net vlan /Common/vlan1 {\n    cmp-hash src-ip\n    tag 4094\n}'
                        - net vlan /Common/vlan2:
                            file: bigip_base.conf
                            comment: Value of field cmp hash is not supported on target platform
                            object: 'net vlan /Common/vlan2 {\n    cmp-hash dst-ip\n    tag 4094\n}'
                    change:
                      allOf:
                        - type: object
                          required:
                            - id
                            - message
                            - url
                          properties:
                            id:
                              type: integer
                            message:
                              type: string
                            url:
                              type: string
                              example: 'http://localhost/sessions/{session_id}/changes/{change_id}'
                      nullable: true
        '304':
          description: Provided solution did not change the file containing the issues.
        '400':
          description: Provided solution did not resolve the current issue.
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - id
                      - summary
                    properties:
                      id:
                        type: string
                        example: SPDAG
                      summary:
                        type: string
                        example: 'net vlan example_vlan: Value of field cmp hash is not supported on target platform'
                      resolved:
                        type: boolean
                        example: true
                      affected_objects:
                        type: object
                        additionalProperties: true
                        items:
                          type: string
                        example:
                          - net vlan /Common/vlan1:
                              file: bigip_base.conf
                              comment: Value of field cmp-hash is not supported on target platform
                              object: 'net vlan /Common/vlan1 {\n    cmp-hash src-ip\n    tag 4094\n}'
                          - net vlan /Common/vlan2:
                              file: bigip_base.conf
                              comment: Value of field cmp hash is not supported on target platform
                              object: 'net vlan /Common/vlan2 {\n    cmp-hash dst-ip\n    tag 4094\n}'
                      change:
                        allOf:
                          - type: object
                            required:
                              - id
                              - message
                              - url
                            properties:
                              id:
                                type: integer
                              message:
                                type: string
                              url:
                                type: string
                                example: 'http://localhost/sessions/{session_id}/changes/{change_id}'
                        nullable: true
                  - type: object
                    required:
                      - mitigations
                    properties:
                      files:
                        type: array
                        items:
                          type: object
                          required:
                            - path
                            - url
                          properties:
                            path:
                              type: string
                              example: config/bigip.conf
                            url:
                              type: string
                              example: 'http://localhost/sessions/1/files/config/bigip.conf'
                      mitigations:
                        type: array
                        items:
                          type: object
                          required:
                            - name
                            - files
                          properties:
                            name:
                              type: string
                              example: SPDAG_delete_objects
                            files:
                              type: array
                              items:
                                type: object
                                required:
                                  - path
                                  - url
                                properties:
                                  path:
                                    type: string
                                    example: config/bigip.conf
                                  url:
                                    type: string
                                    example: 'http://localhost/sessions/1/files/config/bigip.conf'
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
    get:
      summary: Get list of changes
      operationId: get_changes_list
      tags:
        - Change Management
      responses:
        '200':
          description: List of changes made
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  required:
                    - id
                    - message
                    - url
                  properties:
                    id:
                      type: integer
                    message:
                      type: string
                    url:
                      type: string
                      example: 'http://localhost/sessions/{session_id}/changes/{change_id}'
  '/sessions/{session_id}/changes/{change_id}':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
      - name: change_id
        in: path
        required: true
        schema:
          type: string
    get:
      summary: Get the change details
      operationId: Get_change_details
      tags:
        - Change Management
      responses:
        '200':
          description: Change details
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - id
                      - message
                      - url
                    properties:
                      id:
                        type: integer
                      message:
                        type: string
                      url:
                        type: string
                        example: 'http://localhost/sessions/{session_id}/changes/{change_id}'
                  - type: object
                    required:
                      - content
                    properties:
                      rollbacks:
                        type: array
                        items:
                          type: string
                        example:
                          - SPDAG
                          - DeviceGroup
                      diffs:
                        type: array
                        items:
                          type: object
                          additionalProperties: true
                        example:
                          foo/file_1:
                            - change_type: delete
                              previous_text:
                                - list
                                - of
                                - lines
                                - to
                                - delete
                              current_text: []
                              previous_line: 1
                              current_line: 1
                            - change_type: insert
                              previous_text: []
                              current_text:
                                - list
                                - of
                                - lines
                                - to
                                - insert
                              previous_line: 3
                              current_line: 4
                            - change_type: replace
                              previous_text:
                                - previous
                                - list
                                - of
                                - lines
                              current_text:
                                - current
                                - list
                                - of
                                - lines
                              previous_line: 5
                              current_line: 5
                          bar/file_2:
                            - change_type: delete
                              previous_text:
                                - Hello
                              current_text: []
                              previous_line: 20
                              current_line: 20
                            - change_type: replace
                              previous_text:
                                - world
                              current_text:
                                - worms
                              previous_line: 21
                              current_line: 21
    delete:
      summary: Revert content change
      operationId: revert_change
      tags:
        - Change Management
      responses:
        '200':
          description: Conflicts or tenants list
          content:
            application/json:
              schema:
                oneOf:
                  - type: array
                    items:
                      type: object
                      required:
                        - id
                        - summary
                      properties:
                        id:
                          type: string
                          example: SPDAG
                        summary:
                          type: string
                          example: 'net vlan example_vlan: Value of field cmp hash is not supported on target platform'
                        resolved:
                          type: boolean
                          example: true
                        affected_objects:
                          type: object
                          additionalProperties: true
                          items:
                            type: string
                          example:
                            - net vlan /Common/vlan1:
                                file: bigip_base.conf
                                comment: Value of field cmp-hash is not supported on target platform
                                object: 'net vlan /Common/vlan1 {\n    cmp-hash src-ip\n    tag 4094\n}'
                            - net vlan /Common/vlan2:
                                file: bigip_base.conf
                                comment: Value of field cmp hash is not supported on target platform
                                object: 'net vlan /Common/vlan2 {\n    cmp-hash dst-ip\n    tag 4094\n}'
                        change:
                          allOf:
                            - type: object
                              required:
                                - id
                                - message
                                - url
                              properties:
                                id:
                                  type: integer
                                message:
                                  type: string
                                url:
                                  type: string
                                  example: 'http://localhost/sessions/{session_id}/changes/{change_id}'
                          nullable: true
                  - allOf:
                      - type: object
                        required:
                          - name
                          - description
                        properties:
                          url:
                            type: string
                            format: url
                            example: 'http://localhost/sessions/1/tenants/tenant_1'
                          name:
                            type: string
                            example: tenant_1
                          status:
                            type: string
                            enum:
                              - green
                              - red
                              - black
                          description:
                            type: string
                            example: Test tenant
                          staged:
                            type: boolean
                          last_modified:
                            type: string
                            format: date-time
                            example: '2021-01-28T15:24:05.029102Z'
                          deployable_objects:
                            type: object
                            additionalProperties: true
                            example:
                              keys:
                                - sys file ssl-key /Common/key1
                              certs:
                                - sys file ssl-cert /Common/cert1
                      - type: object
                        properties:
                          applications:
                            type: array
                            items:
                              type: string
                              format: url
                              example: 'http://localhost/sessions/1/applications/application_1'
  '/sessions/{session_id}/config':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
    get:
      summary: Get PerApp configuration
      operationId: get_perapp_configuration
      tags:
        - Handling of overlapping objects
      responses:
        '200':
          description: PerApp configuration
          content:
            application/json:
              schema:
                type: object
                properties:
                  merging_overlapping_objects:
                    type: array
                    items:
                      type: string
                    example:
                      - ltm pool
                      - ltm virtual-address
                      - ltm monitor
                      - ltm rule
                      - ltm profile
                      - sys folder
                      - auth partition
                  regexes:
                    type: array
                    items:
                      type: object
                      properties:
                        field:
                          type: string
                          enum:
                            - name
                            - description
                        regex:
                          type: string
                          description: 'Regular expression containing at least one of named groups: application_name, tenant_name'
                          example: 'app: (?P<application_name>.*)'
                      required:
                        - field
                        - regex
        '404':
          description: No session exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
    put:
      summary: Update PerApp configuration
      operationId: update_perapp_configuration
      tags:
        - Handling of overlapping objects
      requestBody:
        description: |
          PerApp configuration to be used.
          Only one of following is allowed at time: merging_overlapping_objects, regexes
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                merging_overlapping_objects:
                  type: array
                  items:
                    type: string
                  example:
                    - ltm pool
                    - ltm virtual-address
                    - ltm monitor
                    - ltm rule
                    - ltm profile
                    - sys folder
                    - auth partition
                regexes:
                  type: array
                  items:
                    type: object
                    properties:
                      field:
                        type: string
                        enum:
                          - name
                          - description
                      regex:
                        type: string
                        description: 'Regular expression containing at least one of named groups: application_name, tenant_name'
                        example: 'app: (?P<application_name>.*)'
                    required:
                      - field
                      - regex
      responses:
        '200':
          description: Updated PerApp configuration
          content:
            application/json:
              schema:
                type: object
                properties:
                  merging_overlapping_objects:
                    type: array
                    items:
                      type: string
                    example:
                      - ltm pool
                      - ltm virtual-address
                      - ltm monitor
                      - ltm rule
                      - ltm profile
                      - sys folder
                      - auth partition
                  regexes:
                    type: array
                    items:
                      type: object
                      properties:
                        field:
                          type: string
                          enum:
                            - name
                            - description
                        regex:
                          type: string
                          description: 'Regular expression containing at least one of named groups: application_name, tenant_name'
                          example: 'app: (?P<application_name>.*)'
                      required:
                        - field
                        - regex
        '404':
          description: No session exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/config/explode':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
    post:
      summary: Explode config to use updated PerApp configuration
      operationId: explode_config
      tags:
        - Handling of overlapping objects
      responses:
        '200':
          description: Tenants list
          content:
            application/json:
              schema:
                type: array
                items:
                  allOf:
                    - type: object
                      required:
                        - name
                        - description
                      properties:
                        url:
                          type: string
                          format: url
                          example: 'http://localhost/sessions/1/tenants/tenant_1'
                        name:
                          type: string
                          example: tenant_1
                        status:
                          type: string
                          enum:
                            - green
                            - red
                            - black
                        description:
                          type: string
                          example: Test tenant
                        staged:
                          type: boolean
                        last_modified:
                          type: string
                          format: date-time
                          example: '2021-01-28T15:24:05.029102Z'
                        deployable_objects:
                          type: object
                          additionalProperties: true
                          example:
                            keys:
                              - sys file ssl-key /Common/key1
                            certs:
                              - sys file ssl-cert /Common/cert1
                    - type: object
                      properties:
                        applications:
                          type: array
                          items:
                            type: string
                            format: url
                            example: 'http://localhost/sessions/1/applications/application_1'
        '404':
          description: No session exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/config/reset':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
    post:
      summary: Reset config to initial values
      operationId: reset_config
      tags:
        - Handling of overlapping objects
      responses:
        '200':
          description: Updated PerApp configuration
          content:
            application/json:
              schema:
                type: object
                properties:
                  merging_overlapping_objects:
                    type: array
                    items:
                      type: string
                    example:
                      - ltm pool
                      - ltm virtual-address
                      - ltm monitor
                      - ltm rule
                      - ltm profile
                      - sys folder
                      - auth partition
                  regexes:
                    type: array
                    items:
                      type: object
                      properties:
                        field:
                          type: string
                          enum:
                            - name
                            - description
                        regex:
                          type: string
                          description: 'Regular expression containing at least one of named groups: application_name, tenant_name'
                          example: 'app: (?P<application_name>.*)'
                      required:
                        - field
                        - regex
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/tenants':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
    get:
      summary: Get tenants list
      operationId: get_tenants
      tags:
        - Application Management
      parameters:
        - description: Search tenants by name and description.
          name: search
          in: query
          schema:
            type: string
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
        - name: page_size
          in: query
          description: Amount of items returned per page
          schema:
            type: integer
        - name: staged
          description: Filter result tenant list regarding to staged value
          required: false
          in: query
          schema:
            type: string
            example:
              - 'true'
              - 'on'
              - '1'
              - 'false'
              - 'off'
              - '0'
      responses:
        '200':
          description: Tenants list
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    properties:
                      count:
                        type: integer
                        example: 1
                      next:
                        type: string
                        format: url
                        example: null
                      previous:
                        type: string
                        format: url
                        example: null
                  - type: object
                    properties:
                      results:
                        type: array
                        items:
                          allOf:
                            - type: object
                              required:
                                - name
                                - description
                              properties:
                                url:
                                  type: string
                                  format: url
                                  example: 'http://localhost/sessions/1/tenants/tenant_1'
                                name:
                                  type: string
                                  example: tenant_1
                                status:
                                  type: string
                                  enum:
                                    - green
                                    - red
                                    - black
                                description:
                                  type: string
                                  example: Test tenant
                                staged:
                                  type: boolean
                                last_modified:
                                  type: string
                                  format: date-time
                                  example: '2021-01-28T15:24:05.029102Z'
                                deployable_objects:
                                  type: object
                                  additionalProperties: true
                                  example:
                                    keys:
                                      - sys file ssl-key /Common/key1
                                    certs:
                                      - sys file ssl-cert /Common/cert1
                            - type: object
                              properties:
                                applications:
                                  type: array
                                  items:
                                    type: string
                                    format: url
                                    example: 'http://localhost/sessions/1/applications/application_1'
        '404':
          description: No session exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
    post:
      summary: Create a new tenant
      operationId: create_tenant
      tags:
        - Application Management
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                  example: test_tenant
                description:
                  type: string
                  example: Test tenant
      responses:
        '201':
          description: New tenant
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - name
                      - description
                    properties:
                      url:
                        type: string
                        format: url
                        example: 'http://localhost/sessions/1/tenants/tenant_1'
                      name:
                        type: string
                        example: tenant_1
                      status:
                        type: string
                        enum:
                          - green
                          - red
                          - black
                      description:
                        type: string
                        example: Test tenant
                      staged:
                        type: boolean
                      last_modified:
                        type: string
                        format: date-time
                        example: '2021-01-28T15:24:05.029102Z'
                      deployable_objects:
                        type: object
                        additionalProperties: true
                        example:
                          keys:
                            - sys file ssl-key /Common/key1
                          certs:
                            - sys file ssl-cert /Common/cert1
                  - type: object
                    properties:
                      applications:
                        type: array
                        items:
                          allOf:
                            - type: object
                              properties:
                                url:
                                  type: string
                                  format: url
                                  example: 'http://localhost/sessions/1/applications/application_1'
                                name:
                                  type: string
                                  example: application_1
                                status:
                                  type: string
                                  enum:
                                    - green
                                    - red
                                    - black
                                description:
                                  type: string
                                  example: Test application
                                tenant:
                                  type: string
                                  example: tenant_1
                                last_modified:
                                  type: string
                                  format: date-time
                                  example: '2021-01-28T15:24:05.029102Z'
                                as3_unsupported:
                                  type: array
                                  items:
                                    type: string
                                  example:
                                    - ltm node /Common/1.2.3.4
                                    - net vlan /partition/vlan123
                                as3_preview:
                                  type: string
                                  format: url
                                  example: 'http://localhost/sessions/1/applications/application_1/preview'
                                deployable_objects:
                                  type: object
                                  additionalProperties: true
                                  example:
                                    keys:
                                      - sys file ssl-key /Common/key1
                                    certs:
                                      - sys file ssl-cert /Common/cert1
                            - type: object
                              properties:
                                virtual_servers:
                                  type: array
                                  items:
                                    type: string
                                    format: url
                                    example: 'http://localhost/sessions/1/virtuals/virtual_server_1'
        '400':
          description: Invalid tenant name or tenant already exists
          content:
            application/json:
              schema:
                type: object
                required:
                  - status_code
                  - detail
                properties:
                  detail:
                    type: string
                  status_code:
                    type: integer
        '404':
          description: No session exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/bulk_stage':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
    put:
      summary: Set staged tenant list
      operationId: set_staged_tenants
      tags:
        - Application Management
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - tenants
              properties:
                tenants:
                  type: array
                  items:
                    type: string
                    example: test_tenant
      responses:
        '200':
          description: Staged tenants list
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    properties:
                      count:
                        type: integer
                        example: 1
                      next:
                        type: string
                        format: url
                        example: null
                      previous:
                        type: string
                        format: url
                        example: null
                  - type: object
                    properties:
                      results:
                        type: array
                        items:
                          allOf:
                            - type: object
                              required:
                                - name
                                - description
                              properties:
                                url:
                                  type: string
                                  format: url
                                  example: 'http://localhost/sessions/1/tenants/tenant_1'
                                name:
                                  type: string
                                  example: tenant_1
                                status:
                                  type: string
                                  enum:
                                    - green
                                    - red
                                    - black
                                description:
                                  type: string
                                  example: Test tenant
                                staged:
                                  type: boolean
                                last_modified:
                                  type: string
                                  format: date-time
                                  example: '2021-01-28T15:24:05.029102Z'
                                deployable_objects:
                                  type: object
                                  additionalProperties: true
                                  example:
                                    keys:
                                      - sys file ssl-key /Common/key1
                                    certs:
                                      - sys file ssl-cert /Common/cert1
                            - type: object
                              properties:
                                applications:
                                  type: array
                                  items:
                                    type: string
                                    format: url
                                    example: 'http://localhost/sessions/1/applications/application_1'
        '404':
          description: No session or tenant exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/tenants/{tenant_name}':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
      - name: tenant_name
        in: path
        required: true
        schema:
          type: string
    get:
      summary: Get specified tenant
      operationId: get_tenant
      tags:
        - Application Management
      responses:
        '200':
          description: Specified tenant
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - name
                      - description
                    properties:
                      url:
                        type: string
                        format: url
                        example: 'http://localhost/sessions/1/tenants/tenant_1'
                      name:
                        type: string
                        example: tenant_1
                      status:
                        type: string
                        enum:
                          - green
                          - red
                          - black
                      description:
                        type: string
                        example: Test tenant
                      staged:
                        type: boolean
                      last_modified:
                        type: string
                        format: date-time
                        example: '2021-01-28T15:24:05.029102Z'
                      deployable_objects:
                        type: object
                        additionalProperties: true
                        example:
                          keys:
                            - sys file ssl-key /Common/key1
                          certs:
                            - sys file ssl-cert /Common/cert1
                  - type: object
                    properties:
                      applications:
                        type: array
                        items:
                          allOf:
                            - type: object
                              properties:
                                url:
                                  type: string
                                  format: url
                                  example: 'http://localhost/sessions/1/applications/application_1'
                                name:
                                  type: string
                                  example: application_1
                                status:
                                  type: string
                                  enum:
                                    - green
                                    - red
                                    - black
                                description:
                                  type: string
                                  example: Test application
                                tenant:
                                  type: string
                                  example: tenant_1
                                last_modified:
                                  type: string
                                  format: date-time
                                  example: '2021-01-28T15:24:05.029102Z'
                                as3_unsupported:
                                  type: array
                                  items:
                                    type: string
                                  example:
                                    - ltm node /Common/1.2.3.4
                                    - net vlan /partition/vlan123
                                as3_preview:
                                  type: string
                                  format: url
                                  example: 'http://localhost/sessions/1/applications/application_1/preview'
                                deployable_objects:
                                  type: object
                                  additionalProperties: true
                                  example:
                                    keys:
                                      - sys file ssl-key /Common/key1
                                    certs:
                                      - sys file ssl-cert /Common/cert1
                            - type: object
                              properties:
                                virtual_servers:
                                  type: array
                                  items:
                                    type: string
                                    format: url
                                    example: 'http://localhost/sessions/1/virtuals/virtual_server_1'
        '404':
          description: No session or tenant exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
    put:
      summary: Rename a specified tenant
      operationId: rename_tenant
      tags:
        - Application Management
      requestBody:
        description: New tenant name
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: new_name
                description:
                  type: string
                  example: Test tenant
      responses:
        '200':
          description: Renamed tenant
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - name
                      - description
                    properties:
                      url:
                        type: string
                        format: url
                        example: 'http://localhost/sessions/1/tenants/tenant_1'
                      name:
                        type: string
                        example: tenant_1
                      status:
                        type: string
                        enum:
                          - green
                          - red
                          - black
                      description:
                        type: string
                        example: Test tenant
                      staged:
                        type: boolean
                      last_modified:
                        type: string
                        format: date-time
                        example: '2021-01-28T15:24:05.029102Z'
                      deployable_objects:
                        type: object
                        additionalProperties: true
                        example:
                          keys:
                            - sys file ssl-key /Common/key1
                          certs:
                            - sys file ssl-cert /Common/cert1
                  - type: object
                    properties:
                      applications:
                        type: array
                        items:
                          allOf:
                            - type: object
                              properties:
                                url:
                                  type: string
                                  format: url
                                  example: 'http://localhost/sessions/1/applications/application_1'
                                name:
                                  type: string
                                  example: application_1
                                status:
                                  type: string
                                  enum:
                                    - green
                                    - red
                                    - black
                                description:
                                  type: string
                                  example: Test application
                                tenant:
                                  type: string
                                  example: tenant_1
                                last_modified:
                                  type: string
                                  format: date-time
                                  example: '2021-01-28T15:24:05.029102Z'
                                as3_unsupported:
                                  type: array
                                  items:
                                    type: string
                                  example:
                                    - ltm node /Common/1.2.3.4
                                    - net vlan /partition/vlan123
                                as3_preview:
                                  type: string
                                  format: url
                                  example: 'http://localhost/sessions/1/applications/application_1/preview'
                                deployable_objects:
                                  type: object
                                  additionalProperties: true
                                  example:
                                    keys:
                                      - sys file ssl-key /Common/key1
                                    certs:
                                      - sys file ssl-cert /Common/cert1
                            - type: object
                              properties:
                                virtual_servers:
                                  type: array
                                  items:
                                    type: string
                                    format: url
                                    example: 'http://localhost/sessions/1/virtuals/virtual_server_1'
        '400':
          description: Invalid tenant name
          content:
            application/json:
              schema:
                type: object
                required:
                  - status_code
                  - detail
                properties:
                  detail:
                    type: string
                  status_code:
                    type: integer
        '404':
          description: No session or tenant exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
    delete:
      summary: Remove specified tenant
      operationId: remove_tenant
      tags:
        - Application Management
      responses:
        '204':
          description: Tenant removed
        '404':
          description: No session or tenant exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        '409':
          description: Tenant not empty
          content:
            application/json:
              schema:
                type: object
                required:
                  - status_code
                  - detail
                properties:
                  detail:
                    type: string
                  status_code:
                    type: integer
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/tenants/{tenant_name}/assign_applications':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
      - name: tenant_name
        in: path
        required: true
        schema:
          type: string
    post:
      summary: Assign applications to tenant
      operationId: assign_applications
      tags:
        - Application Management
      requestBody:
        description: Applications to assign
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - applications
              properties:
                applications:
                  type: array
                  items:
                    type: string
                    example: application_1
      responses:
        '200':
          description: Tenant with assigned application
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - name
                      - description
                    properties:
                      url:
                        type: string
                        format: url
                        example: 'http://localhost/sessions/1/tenants/tenant_1'
                      name:
                        type: string
                        example: tenant_1
                      status:
                        type: string
                        enum:
                          - green
                          - red
                          - black
                      description:
                        type: string
                        example: Test tenant
                      staged:
                        type: boolean
                      last_modified:
                        type: string
                        format: date-time
                        example: '2021-01-28T15:24:05.029102Z'
                      deployable_objects:
                        type: object
                        additionalProperties: true
                        example:
                          keys:
                            - sys file ssl-key /Common/key1
                          certs:
                            - sys file ssl-cert /Common/cert1
                  - type: object
                    properties:
                      applications:
                        type: array
                        items:
                          allOf:
                            - type: object
                              properties:
                                url:
                                  type: string
                                  format: url
                                  example: 'http://localhost/sessions/1/applications/application_1'
                                name:
                                  type: string
                                  example: application_1
                                status:
                                  type: string
                                  enum:
                                    - green
                                    - red
                                    - black
                                description:
                                  type: string
                                  example: Test application
                                tenant:
                                  type: string
                                  example: tenant_1
                                last_modified:
                                  type: string
                                  format: date-time
                                  example: '2021-01-28T15:24:05.029102Z'
                                as3_unsupported:
                                  type: array
                                  items:
                                    type: string
                                  example:
                                    - ltm node /Common/1.2.3.4
                                    - net vlan /partition/vlan123
                                as3_preview:
                                  type: string
                                  format: url
                                  example: 'http://localhost/sessions/1/applications/application_1/preview'
                                deployable_objects:
                                  type: object
                                  additionalProperties: true
                                  example:
                                    keys:
                                      - sys file ssl-key /Common/key1
                                    certs:
                                      - sys file ssl-cert /Common/cert1
                            - type: object
                              properties:
                                virtual_servers:
                                  type: array
                                  items:
                                    type: string
                                    format: url
                                    example: 'http://localhost/sessions/1/virtuals/virtual_server_1'
        '400':
          description: Invalid tenant
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    additionalProperties: true
                    items:
                      type: array
                      items:
                        type: string
                    example:
                      __all__:
                        - Invalid request body
                      field:
                        - Invalid name
                  status_code:
                    type: integer
                    example: 400
        '404':
          description: Session or application does not exist.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/tenants/{tenant_name}/stage':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
      - name: tenant_name
        in: path
        required: true
        schema:
          type: string
    post:
      summary: Stage tenant to output AS3
      operationId: tenant_stage
      tags:
        - Application Management
      responses:
        '200':
          description: Staged tenant
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - name
                      - description
                    properties:
                      url:
                        type: string
                        format: url
                        example: 'http://localhost/sessions/1/tenants/tenant_1'
                      name:
                        type: string
                        example: tenant_1
                      status:
                        type: string
                        enum:
                          - green
                          - red
                          - black
                      description:
                        type: string
                        example: Test tenant
                      staged:
                        type: boolean
                      last_modified:
                        type: string
                        format: date-time
                        example: '2021-01-28T15:24:05.029102Z'
                      deployable_objects:
                        type: object
                        additionalProperties: true
                        example:
                          keys:
                            - sys file ssl-key /Common/key1
                          certs:
                            - sys file ssl-cert /Common/cert1
                  - type: object
                    properties:
                      applications:
                        type: array
                        items:
                          allOf:
                            - type: object
                              properties:
                                url:
                                  type: string
                                  format: url
                                  example: 'http://localhost/sessions/1/applications/application_1'
                                name:
                                  type: string
                                  example: application_1
                                status:
                                  type: string
                                  enum:
                                    - green
                                    - red
                                    - black
                                description:
                                  type: string
                                  example: Test application
                                tenant:
                                  type: string
                                  example: tenant_1
                                last_modified:
                                  type: string
                                  format: date-time
                                  example: '2021-01-28T15:24:05.029102Z'
                                as3_unsupported:
                                  type: array
                                  items:
                                    type: string
                                  example:
                                    - ltm node /Common/1.2.3.4
                                    - net vlan /partition/vlan123
                                as3_preview:
                                  type: string
                                  format: url
                                  example: 'http://localhost/sessions/1/applications/application_1/preview'
                                deployable_objects:
                                  type: object
                                  additionalProperties: true
                                  example:
                                    keys:
                                      - sys file ssl-key /Common/key1
                                    certs:
                                      - sys file ssl-cert /Common/cert1
                            - type: object
                              properties:
                                virtual_servers:
                                  type: array
                                  items:
                                    type: string
                                    format: url
                                    example: 'http://localhost/sessions/1/virtuals/virtual_server_1'
        '404':
          description: No session or tenant exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/tenants/{tenant_name}/unstage':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
      - name: tenant_name
        in: path
        required: true
        schema:
          type: string
    post:
      summary: Unstage tenants from output AS3
      operationId: tenant_unstage
      tags:
        - Application Management
      responses:
        '200':
          description: Unstaged tenant
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - name
                      - description
                    properties:
                      url:
                        type: string
                        format: url
                        example: 'http://localhost/sessions/1/tenants/tenant_1'
                      name:
                        type: string
                        example: tenant_1
                      status:
                        type: string
                        enum:
                          - green
                          - red
                          - black
                      description:
                        type: string
                        example: Test tenant
                      staged:
                        type: boolean
                      last_modified:
                        type: string
                        format: date-time
                        example: '2021-01-28T15:24:05.029102Z'
                      deployable_objects:
                        type: object
                        additionalProperties: true
                        example:
                          keys:
                            - sys file ssl-key /Common/key1
                          certs:
                            - sys file ssl-cert /Common/cert1
                  - type: object
                    properties:
                      applications:
                        type: array
                        items:
                          allOf:
                            - type: object
                              properties:
                                url:
                                  type: string
                                  format: url
                                  example: 'http://localhost/sessions/1/applications/application_1'
                                name:
                                  type: string
                                  example: application_1
                                status:
                                  type: string
                                  enum:
                                    - green
                                    - red
                                    - black
                                description:
                                  type: string
                                  example: Test application
                                tenant:
                                  type: string
                                  example: tenant_1
                                last_modified:
                                  type: string
                                  format: date-time
                                  example: '2021-01-28T15:24:05.029102Z'
                                as3_unsupported:
                                  type: array
                                  items:
                                    type: string
                                  example:
                                    - ltm node /Common/1.2.3.4
                                    - net vlan /partition/vlan123
                                as3_preview:
                                  type: string
                                  format: url
                                  example: 'http://localhost/sessions/1/applications/application_1/preview'
                                deployable_objects:
                                  type: object
                                  additionalProperties: true
                                  example:
                                    keys:
                                      - sys file ssl-key /Common/key1
                                    certs:
                                      - sys file ssl-cert /Common/cert1
                            - type: object
                              properties:
                                virtual_servers:
                                  type: array
                                  items:
                                    type: string
                                    format: url
                                    example: 'http://localhost/sessions/1/virtuals/virtual_server_1'
        '404':
          description: No session or tenant exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/applications':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
    get:
      summary: Get applications list
      operationId: get_applications
      tags:
        - Application Management
      parameters:
        - description: 'Search applications by name, tenant and description.'
          name: search
          in: query
          schema:
            type: string
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
        - name: page_size
          in: query
          description: Amount of items returned per page
          schema:
            type: integer
      responses:
        '200':
          description: Applications list
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    properties:
                      count:
                        type: integer
                        example: 1
                      next:
                        type: string
                        format: url
                        example: null
                      previous:
                        type: string
                        format: url
                        example: null
                  - type: object
                    properties:
                      results:
                        type: array
                        items:
                          allOf:
                            - type: object
                              properties:
                                url:
                                  type: string
                                  format: url
                                  example: 'http://localhost/sessions/1/applications/application_1'
                                name:
                                  type: string
                                  example: application_1
                                status:
                                  type: string
                                  enum:
                                    - green
                                    - red
                                    - black
                                description:
                                  type: string
                                  example: Test application
                                tenant:
                                  type: string
                                  example: tenant_1
                                last_modified:
                                  type: string
                                  format: date-time
                                  example: '2021-01-28T15:24:05.029102Z'
                                as3_unsupported:
                                  type: array
                                  items:
                                    type: string
                                  example:
                                    - ltm node /Common/1.2.3.4
                                    - net vlan /partition/vlan123
                                as3_preview:
                                  type: string
                                  format: url
                                  example: 'http://localhost/sessions/1/applications/application_1/preview'
                                deployable_objects:
                                  type: object
                                  additionalProperties: true
                                  example:
                                    keys:
                                      - sys file ssl-key /Common/key1
                                    certs:
                                      - sys file ssl-cert /Common/cert1
                            - type: object
                              properties:
                                virtual_servers:
                                  type: array
                                  items:
                                    type: string
                                    format: url
                                    example: 'http://localhost/sessions/1/virtuals/virtual_server_1'
        '404':
          description: No session exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
    post:
      summary: Create a new application
      operationId: create_application
      tags:
        - Application Management
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - tenant
              properties:
                name:
                  type: string
                  description: Name of a new application
                description:
                  type: string
                  example: Test application
                tenant:
                  type: string
                  description: Name of a tenant to use
      responses:
        '201':
          description: New application
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    properties:
                      url:
                        type: string
                        format: url
                        example: 'http://localhost/sessions/1/applications/application_1'
                      name:
                        type: string
                        example: application_1
                      status:
                        type: string
                        enum:
                          - green
                          - red
                          - black
                      description:
                        type: string
                        example: Test application
                      tenant:
                        type: string
                        example: tenant_1
                      last_modified:
                        type: string
                        format: date-time
                        example: '2021-01-28T15:24:05.029102Z'
                      as3_unsupported:
                        type: array
                        items:
                          type: string
                        example:
                          - ltm node /Common/1.2.3.4
                          - net vlan /partition/vlan123
                      as3_preview:
                        type: string
                        format: url
                        example: 'http://localhost/sessions/1/applications/application_1/preview'
                      deployable_objects:
                        type: object
                        additionalProperties: true
                        example:
                          keys:
                            - sys file ssl-key /Common/key1
                          certs:
                            - sys file ssl-cert /Common/cert1
                  - type: object
                    properties:
                      virtual_servers:
                        type: array
                        items:
                          type: object
                          properties:
                            url:
                              type: string
                              format: url
                              example: 'http://localhost/sessions/1/virtuals/virtual_server_1'
                            name:
                              type: string
                              example: virtual_server_1
                            status:
                              type: string
                              enum:
                                - green
                                - red
                                - black
                            last_modified:
                              type: string
                              format: date-time
                              example: '2021-01-28T15:24:05.029102Z'
                            config_files:
                              type: object
                              additionalProperties:
                                type: string
                                format: url
                              example:
                                application_1/Virtuals/virtual_server_1/bigip.conf: 'http://localhost/sessions/1/virtual_files/virtual_server_1/bigip.conf'
                                application_1/Virtuals/virtual_server_1/bigip_base.conf: 'http://localhost/sessions/1/virtual_files/virtual_server_1/bigip_base.conf'
                            metadata:
                              type: object
                              additionalProperties: true
                              example:
                                ltm node /Common/1.2.3.4:
                                  file: bigip.conf
                                  line: 10
                                ltm pool /Common/pool:
                                  file: bigip.conf
                                  line: 20
                                net vlan /Common/vlan:
                                  file: bigip_base.conf
                                  line: 20
                            as3_unsupported:
                              type: array
                              items:
                                type: string
                              example:
                                - ltm node /Common/1.2.3.4
                                - net vlan /partition/vlan123
                            as3_preview:
                              type: string
                              format: url
                              example: 'http://localhost/sessions/1/virtual_files/virtual_server_1/preview.json'
                            graph:
                              type: string
                              format: url
                              example: 'http://localhost/sessions/1/virtual_files/virtual_server_1/graph.svg'
                            deployable_objects:
                              type: object
                              additionalProperties: true
                              example:
                                keys:
                                  - sys file ssl-key /Common/key1
                                certs:
                                  - sys file ssl-cert /Common/cert1
        '400':
          description: Invalid application or tenant name or application already exists
          content:
            application/json:
              schema:
                type: object
                required:
                  - status_code
                  - detail
                properties:
                  detail:
                    type: string
                  status_code:
                    type: integer
        '404':
          description: No session or tenant exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/applications/{application_name}':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
      - name: application_name
        in: path
        required: true
        schema:
          type: string
    get:
      summary: Get specified application
      operationId: get_application
      tags:
        - Application Management
      responses:
        '200':
          description: New tenant
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    properties:
                      url:
                        type: string
                        format: url
                        example: 'http://localhost/sessions/1/applications/application_1'
                      name:
                        type: string
                        example: application_1
                      status:
                        type: string
                        enum:
                          - green
                          - red
                          - black
                      description:
                        type: string
                        example: Test application
                      tenant:
                        type: string
                        example: tenant_1
                      last_modified:
                        type: string
                        format: date-time
                        example: '2021-01-28T15:24:05.029102Z'
                      as3_unsupported:
                        type: array
                        items:
                          type: string
                        example:
                          - ltm node /Common/1.2.3.4
                          - net vlan /partition/vlan123
                      as3_preview:
                        type: string
                        format: url
                        example: 'http://localhost/sessions/1/applications/application_1/preview'
                      deployable_objects:
                        type: object
                        additionalProperties: true
                        example:
                          keys:
                            - sys file ssl-key /Common/key1
                          certs:
                            - sys file ssl-cert /Common/cert1
                  - type: object
                    properties:
                      virtual_servers:
                        type: array
                        items:
                          type: object
                          properties:
                            url:
                              type: string
                              format: url
                              example: 'http://localhost/sessions/1/virtuals/virtual_server_1'
                            name:
                              type: string
                              example: virtual_server_1
                            status:
                              type: string
                              enum:
                                - green
                                - red
                                - black
                            last_modified:
                              type: string
                              format: date-time
                              example: '2021-01-28T15:24:05.029102Z'
                            config_files:
                              type: object
                              additionalProperties:
                                type: string
                                format: url
                              example:
                                application_1/Virtuals/virtual_server_1/bigip.conf: 'http://localhost/sessions/1/virtual_files/virtual_server_1/bigip.conf'
                                application_1/Virtuals/virtual_server_1/bigip_base.conf: 'http://localhost/sessions/1/virtual_files/virtual_server_1/bigip_base.conf'
                            metadata:
                              type: object
                              additionalProperties: true
                              example:
                                ltm node /Common/1.2.3.4:
                                  file: bigip.conf
                                  line: 10
                                ltm pool /Common/pool:
                                  file: bigip.conf
                                  line: 20
                                net vlan /Common/vlan:
                                  file: bigip_base.conf
                                  line: 20
                            as3_unsupported:
                              type: array
                              items:
                                type: string
                              example:
                                - ltm node /Common/1.2.3.4
                                - net vlan /partition/vlan123
                            as3_preview:
                              type: string
                              format: url
                              example: 'http://localhost/sessions/1/virtual_files/virtual_server_1/preview.json'
                            graph:
                              type: string
                              format: url
                              example: 'http://localhost/sessions/1/virtual_files/virtual_server_1/graph.svg'
                            deployable_objects:
                              type: object
                              additionalProperties: true
                              example:
                                keys:
                                  - sys file ssl-key /Common/key1
                                certs:
                                  - sys file ssl-cert /Common/cert1
        '400':
          description: Invalid tenant
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    additionalProperties: true
                    items:
                      type: array
                      items:
                        type: string
                    example:
                      __all__:
                        - Invalid request body
                      field:
                        - Invalid name
                  status_code:
                    type: integer
                    example: 400
        '404':
          description: No session or application exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
    put:
      summary: Rename a specified aplication
      operationId: rename_application
      tags:
        - Application Management
      requestBody:
        description: New application name
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                  example: Test application
      responses:
        '200':
          description: Renamed application
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    properties:
                      url:
                        type: string
                        format: url
                        example: 'http://localhost/sessions/1/applications/application_1'
                      name:
                        type: string
                        example: application_1
                      status:
                        type: string
                        enum:
                          - green
                          - red
                          - black
                      description:
                        type: string
                        example: Test application
                      tenant:
                        type: string
                        example: tenant_1
                      last_modified:
                        type: string
                        format: date-time
                        example: '2021-01-28T15:24:05.029102Z'
                      as3_unsupported:
                        type: array
                        items:
                          type: string
                        example:
                          - ltm node /Common/1.2.3.4
                          - net vlan /partition/vlan123
                      as3_preview:
                        type: string
                        format: url
                        example: 'http://localhost/sessions/1/applications/application_1/preview'
                      deployable_objects:
                        type: object
                        additionalProperties: true
                        example:
                          keys:
                            - sys file ssl-key /Common/key1
                          certs:
                            - sys file ssl-cert /Common/cert1
                  - type: object
                    properties:
                      virtual_servers:
                        type: array
                        items:
                          type: object
                          properties:
                            url:
                              type: string
                              format: url
                              example: 'http://localhost/sessions/1/virtuals/virtual_server_1'
                            name:
                              type: string
                              example: virtual_server_1
                            status:
                              type: string
                              enum:
                                - green
                                - red
                                - black
                            last_modified:
                              type: string
                              format: date-time
                              example: '2021-01-28T15:24:05.029102Z'
                            config_files:
                              type: object
                              additionalProperties:
                                type: string
                                format: url
                              example:
                                application_1/Virtuals/virtual_server_1/bigip.conf: 'http://localhost/sessions/1/virtual_files/virtual_server_1/bigip.conf'
                                application_1/Virtuals/virtual_server_1/bigip_base.conf: 'http://localhost/sessions/1/virtual_files/virtual_server_1/bigip_base.conf'
                            metadata:
                              type: object
                              additionalProperties: true
                              example:
                                ltm node /Common/1.2.3.4:
                                  file: bigip.conf
                                  line: 10
                                ltm pool /Common/pool:
                                  file: bigip.conf
                                  line: 20
                                net vlan /Common/vlan:
                                  file: bigip_base.conf
                                  line: 20
                            as3_unsupported:
                              type: array
                              items:
                                type: string
                              example:
                                - ltm node /Common/1.2.3.4
                                - net vlan /partition/vlan123
                            as3_preview:
                              type: string
                              format: url
                              example: 'http://localhost/sessions/1/virtual_files/virtual_server_1/preview.json'
                            graph:
                              type: string
                              format: url
                              example: 'http://localhost/sessions/1/virtual_files/virtual_server_1/graph.svg'
                            deployable_objects:
                              type: object
                              additionalProperties: true
                              example:
                                keys:
                                  - sys file ssl-key /Common/key1
                                certs:
                                  - sys file ssl-cert /Common/cert1
        '400':
          description: Invalid application name
          content:
            application/json:
              schema:
                type: object
                required:
                  - status_code
                  - detail
                properties:
                  detail:
                    type: string
                  status_code:
                    type: integer
        '404':
          description: No session or application exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
    delete:
      summary: Remove specified application
      operationId: remove_application
      tags:
        - Application Management
      responses:
        '204':
          description: Application removed
        '404':
          description: No session or application exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '409':
          description: Application not empty
          content:
            application/json:
              schema:
                type: object
                required:
                  - status_code
                  - detail
                properties:
                  detail:
                    type: string
                  status_code:
                    type: integer
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/applications/{application_name}/assign_virtuals':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
      - name: application_name
        in: path
        required: true
        schema:
          type: string
    post:
      summary: Assign virtual servers into an application
      operationId: assign_virtuals
      tags:
        - Application Management
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - virtual_servers
              properties:
                virtual_servers:
                  type: array
                  items:
                    type: string
                    example: virtual1
      responses:
        '200':
          description: Application with assigned virtual server
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    properties:
                      url:
                        type: string
                        format: url
                        example: 'http://localhost/sessions/1/applications/application_1'
                      name:
                        type: string
                        example: application_1
                      status:
                        type: string
                        enum:
                          - green
                          - red
                          - black
                      description:
                        type: string
                        example: Test application
                      tenant:
                        type: string
                        example: tenant_1
                      last_modified:
                        type: string
                        format: date-time
                        example: '2021-01-28T15:24:05.029102Z'
                      as3_unsupported:
                        type: array
                        items:
                          type: string
                        example:
                          - ltm node /Common/1.2.3.4
                          - net vlan /partition/vlan123
                      as3_preview:
                        type: string
                        format: url
                        example: 'http://localhost/sessions/1/applications/application_1/preview'
                      deployable_objects:
                        type: object
                        additionalProperties: true
                        example:
                          keys:
                            - sys file ssl-key /Common/key1
                          certs:
                            - sys file ssl-cert /Common/cert1
                  - type: object
                    properties:
                      virtual_servers:
                        type: array
                        items:
                          type: object
                          properties:
                            url:
                              type: string
                              format: url
                              example: 'http://localhost/sessions/1/virtuals/virtual_server_1'
                            name:
                              type: string
                              example: virtual_server_1
                            status:
                              type: string
                              enum:
                                - green
                                - red
                                - black
                            last_modified:
                              type: string
                              format: date-time
                              example: '2021-01-28T15:24:05.029102Z'
                            config_files:
                              type: object
                              additionalProperties:
                                type: string
                                format: url
                              example:
                                application_1/Virtuals/virtual_server_1/bigip.conf: 'http://localhost/sessions/1/virtual_files/virtual_server_1/bigip.conf'
                                application_1/Virtuals/virtual_server_1/bigip_base.conf: 'http://localhost/sessions/1/virtual_files/virtual_server_1/bigip_base.conf'
                            metadata:
                              type: object
                              additionalProperties: true
                              example:
                                ltm node /Common/1.2.3.4:
                                  file: bigip.conf
                                  line: 10
                                ltm pool /Common/pool:
                                  file: bigip.conf
                                  line: 20
                                net vlan /Common/vlan:
                                  file: bigip_base.conf
                                  line: 20
                            as3_unsupported:
                              type: array
                              items:
                                type: string
                              example:
                                - ltm node /Common/1.2.3.4
                                - net vlan /partition/vlan123
                            as3_preview:
                              type: string
                              format: url
                              example: 'http://localhost/sessions/1/virtual_files/virtual_server_1/preview.json'
                            graph:
                              type: string
                              format: url
                              example: 'http://localhost/sessions/1/virtual_files/virtual_server_1/graph.svg'
                            deployable_objects:
                              type: object
                              additionalProperties: true
                              example:
                                keys:
                                  - sys file ssl-key /Common/key1
                                certs:
                                  - sys file ssl-cert /Common/cert1
        '404':
          description: 'No session, application or virtual server exists'
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        '409':
          description: Given Virtual server requires linked viruals servers to be moved
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: 'Following VirtualServers use shared objects and has to be moved together: aa, bb'
                  status_code:
                    type: integer
                    example: 409
                  linked_virtuals:
                    type: array
                    items:
                      type: string
                    example:
                      - aa
                      - bb
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/virtuals':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
    get:
      summary: Get virtual servers list
      operationId: get_virtuals
      tags:
        - Application Management
      parameters:
        - description: 'Search virtual servers by name, IP address and pool name.'
          name: search
          in: query
          schema:
            type: string
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
        - name: page_size
          in: query
          description: Amount of items returned per page
          schema:
            type: integer
      responses:
        '200':
          description: Virtual server list
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    properties:
                      count:
                        type: integer
                        example: 1
                      next:
                        type: string
                        format: url
                        example: null
                      previous:
                        type: string
                        format: url
                        example: null
                  - type: object
                    properties:
                      results:
                        type: array
                        items:
                          type: object
                          properties:
                            url:
                              type: string
                              format: url
                              example: 'http://localhost/sessions/1/virtuals/virtual_server_1'
                            name:
                              type: string
                              example: virtual_server_1
                            status:
                              type: string
                              enum:
                                - green
                                - red
                                - black
                            last_modified:
                              type: string
                              format: date-time
                              example: '2021-01-28T15:24:05.029102Z'
                            config_files:
                              type: object
                              additionalProperties:
                                type: string
                                format: url
                              example:
                                application_1/Virtuals/virtual_server_1/bigip.conf: 'http://localhost/sessions/1/virtual_files/virtual_server_1/bigip.conf'
                                application_1/Virtuals/virtual_server_1/bigip_base.conf: 'http://localhost/sessions/1/virtual_files/virtual_server_1/bigip_base.conf'
                            metadata:
                              type: object
                              additionalProperties: true
                              example:
                                ltm node /Common/1.2.3.4:
                                  file: bigip.conf
                                  line: 10
                                ltm pool /Common/pool:
                                  file: bigip.conf
                                  line: 20
                                net vlan /Common/vlan:
                                  file: bigip_base.conf
                                  line: 20
                            as3_unsupported:
                              type: array
                              items:
                                type: string
                              example:
                                - ltm node /Common/1.2.3.4
                                - net vlan /partition/vlan123
                            as3_preview:
                              type: string
                              format: url
                              example: 'http://localhost/sessions/1/virtual_files/virtual_server_1/preview.json'
                            graph:
                              type: string
                              format: url
                              example: 'http://localhost/sessions/1/virtual_files/virtual_server_1/graph.svg'
                            deployable_objects:
                              type: object
                              additionalProperties: true
                              example:
                                keys:
                                  - sys file ssl-key /Common/key1
                                certs:
                                  - sys file ssl-cert /Common/cert1
        '404':
          description: No session exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/virtuals/{virtual_name}':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
      - name: virtual_name
        in: path
        required: true
        schema:
          type: string
    get:
      summary: Get specified virtual server
      operationId: get_virtual
      tags:
        - Application Management
      responses:
        '200':
          description: Specified virtual server
          content:
            application/json:
              schema:
                type: object
                properties:
                  url:
                    type: string
                    format: url
                    example: 'http://localhost/sessions/1/virtuals/virtual_server_1'
                  name:
                    type: string
                    example: virtual_server_1
                  status:
                    type: string
                    enum:
                      - green
                      - red
                      - black
                  last_modified:
                    type: string
                    format: date-time
                    example: '2021-01-28T15:24:05.029102Z'
                  config_files:
                    type: object
                    additionalProperties:
                      type: string
                      format: url
                    example:
                      application_1/Virtuals/virtual_server_1/bigip.conf: 'http://localhost/sessions/1/virtual_files/virtual_server_1/bigip.conf'
                      application_1/Virtuals/virtual_server_1/bigip_base.conf: 'http://localhost/sessions/1/virtual_files/virtual_server_1/bigip_base.conf'
                  metadata:
                    type: object
                    additionalProperties: true
                    example:
                      ltm node /Common/1.2.3.4:
                        file: bigip.conf
                        line: 10
                      ltm pool /Common/pool:
                        file: bigip.conf
                        line: 20
                      net vlan /Common/vlan:
                        file: bigip_base.conf
                        line: 20
                  as3_unsupported:
                    type: array
                    items:
                      type: string
                    example:
                      - ltm node /Common/1.2.3.4
                      - net vlan /partition/vlan123
                  as3_preview:
                    type: string
                    format: url
                    example: 'http://localhost/sessions/1/virtual_files/virtual_server_1/preview.json'
                  graph:
                    type: string
                    format: url
                    example: 'http://localhost/sessions/1/virtual_files/virtual_server_1/graph.svg'
                  deployable_objects:
                    type: object
                    additionalProperties: true
                    example:
                      keys:
                        - sys file ssl-key /Common/key1
                      certs:
                        - sys file ssl-cert /Common/cert1
        '404':
          description: No session or virtual server exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/virtuals/{virtual_name}/reload':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
      - name: virtual_name
        in: path
        required: true
        schema:
          type: string
    post:
      summary: Reload virutal server config
      operationId: virtual_reload
      tags:
        - Application Management
      responses:
        '200':
          description: Reloaded virtual server
          content:
            application/json:
              schema:
                type: object
                properties:
                  url:
                    type: string
                    format: url
                    example: 'http://localhost/sessions/1/virtuals/virtual_server_1'
                  name:
                    type: string
                    example: virtual_server_1
                  status:
                    type: string
                    enum:
                      - green
                      - red
                      - black
                  last_modified:
                    type: string
                    format: date-time
                    example: '2021-01-28T15:24:05.029102Z'
                  config_files:
                    type: object
                    additionalProperties:
                      type: string
                      format: url
                    example:
                      application_1/Virtuals/virtual_server_1/bigip.conf: 'http://localhost/sessions/1/virtual_files/virtual_server_1/bigip.conf'
                      application_1/Virtuals/virtual_server_1/bigip_base.conf: 'http://localhost/sessions/1/virtual_files/virtual_server_1/bigip_base.conf'
                  metadata:
                    type: object
                    additionalProperties: true
                    example:
                      ltm node /Common/1.2.3.4:
                        file: bigip.conf
                        line: 10
                      ltm pool /Common/pool:
                        file: bigip.conf
                        line: 20
                      net vlan /Common/vlan:
                        file: bigip_base.conf
                        line: 20
                  as3_unsupported:
                    type: array
                    items:
                      type: string
                    example:
                      - ltm node /Common/1.2.3.4
                      - net vlan /partition/vlan123
                  as3_preview:
                    type: string
                    format: url
                    example: 'http://localhost/sessions/1/virtual_files/virtual_server_1/preview.json'
                  graph:
                    type: string
                    format: url
                    example: 'http://localhost/sessions/1/virtual_files/virtual_server_1/graph.svg'
                  deployable_objects:
                    type: object
                    additionalProperties: true
                    example:
                      keys:
                        - sys file ssl-key /Common/key1
                      certs:
                        - sys file ssl-cert /Common/cert1
        '404':
          description: No session or virtual server exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/virtuals/{virtual_name}/revert':
    parameters:
      - name: session_id
        in: path
        required: true
        schema:
          type: integer
      - name: virtual_name
        in: path
        required: true
        schema:
          type: string
    post:
      summary: Revert virutal server config to a moment after last successful reload or to initial
      operationId: virtual_revert
      tags:
        - Application Management
      responses:
        '200':
          description: Reverted virtual server
          content:
            application/json:
              schema:
                type: object
                properties:
                  url:
                    type: string
                    format: url
                    example: 'http://localhost/sessions/1/virtuals/virtual_server_1'
                  name:
                    type: string
                    example: virtual_server_1
                  status:
                    type: string
                    enum:
                      - green
                      - red
                      - black
                  last_modified:
                    type: string
                    format: date-time
                    example: '2021-01-28T15:24:05.029102Z'
                  config_files:
                    type: object
                    additionalProperties:
                      type: string
                      format: url
                    example:
                      application_1/Virtuals/virtual_server_1/bigip.conf: 'http://localhost/sessions/1/virtual_files/virtual_server_1/bigip.conf'
                      application_1/Virtuals/virtual_server_1/bigip_base.conf: 'http://localhost/sessions/1/virtual_files/virtual_server_1/bigip_base.conf'
                  metadata:
                    type: object
                    additionalProperties: true
                    example:
                      ltm node /Common/1.2.3.4:
                        file: bigip.conf
                        line: 10
                      ltm pool /Common/pool:
                        file: bigip.conf
                        line: 20
                      net vlan /Common/vlan:
                        file: bigip_base.conf
                        line: 20
                  as3_unsupported:
                    type: array
                    items:
                      type: string
                    example:
                      - ltm node /Common/1.2.3.4
                      - net vlan /partition/vlan123
                  as3_preview:
                    type: string
                    format: url
                    example: 'http://localhost/sessions/1/virtual_files/virtual_server_1/preview.json'
                  graph:
                    type: string
                    format: url
                    example: 'http://localhost/sessions/1/virtual_files/virtual_server_1/graph.svg'
                  deployable_objects:
                    type: object
                    additionalProperties: true
                    example:
                      keys:
                        - sys file ssl-key /Common/key1
                      certs:
                        - sys file ssl-cert /Common/cert1
        '404':
          description: No session or virtual server exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/preview':
    post:
      summary: Get preview AS3 for given virtual servers
      operationId: generate_preview
      tags:
        - Application Management
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - virtual_servers
              properties:
                virtual_servers:
                  type: array
                  items:
                    type: string
                    example: virtual1
      responses:
        '200':
          description: Generated AS3 preview
          content:
            application/json:
              schema:
                type: object
                properties:
                  class:
                    type: string
                    example: ADC
                  Common:
                    type: object
                    properties:
                      class:
                        type: string
                        example: Tenant
        '404':
          description: Session or application does not exist.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '405':
          description: Method is not allowed for current session.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Method not allowed in this sesssion
                  status_code:
                    type: integer
                    example: 405
  '/sessions/{session_id}/resolutions_report':
    post:
      summary: Generate issues resolutions report
      operationId: generate_issues_resolutions_report
      tags:
        - Issue reports
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Report about changes made in the configration
          content:
            application/json:
              schema:
                type: object
                required:
                  - resolutions_report
                properties:
                  resolutions_report:
                    type: string
                    example: 'http://<hostname>/sessions/<session_id>/root_files/resolutions_report.pdf'
        '204':
          description: Report is empty
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/root_files/{file_path}':
    get:
      summary: Get content of the sessions root file
      operationId: get_root_file_content
      tags:
        - File Management
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
        - name: file_path
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: File content
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
        '404':
          description: File does not exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/load_validation':
    post:
      summary: Initialize load validation.
      operationId: load_validation
      tags:
        - Load validation
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
        - name: async
          in: query
          description: Should the task run asyncronously
          required: false
          schema:
            type: string
          example: true
      requestBody:
        description: Device Credentials
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - username
                - password
              properties:
                username:
                  type: string
                password:
                  type: string
                  format: password
                  writeOnly: true
      responses:
        '200':
          description: Synchronous load validation initialization has beed finished
          content:
            application/json:
              schema:
                type: object
                required:
                  - backup_name
                  - log
                  - result
                  - ucs_to_verify_name
                properties:
                  backup_name:
                    type: string
                    example: /path/to/backup_name.ucs
                  log:
                    type: string
                    example: |
                      Validating system configuration...
                       /defaults/asm_base.conf
                       /defaults/config_base.conf
                       /defaults/ipfix_ie_base.conf
                       /defaults/ipfix_ie_f5base.conf
                       /defaults/low_profile_base.conf
                       /defaults/low_security_base.conf
                       /defaults/policy_base.conf
                       /defaults/wam_base.conf
                       /defaults/analytics_base.conf
                       /defaults/apm_base.conf
                       /defaults/apm_saml_base.conf
                       /defaults/app_template_base.conf
                       /defaults/classification_base.conf
                       /var/libdata/dpi/conf/classification_update.conf
                       /defaults/urlcat_base.conf
                       /defaults/daemon.conf
                       /defaults/pem_base.conf
                       /defaults/profile_base.conf
                       /defaults/sandbox_base.conf
                       /defaults/security_base.conf
                       /defaults/urldb_base.conf
                       /usr/share/monitors/base_monitors.conf
                       Validating configuration...
                       /config/bigip_base.conf
                       /config/bigip_user.conf
                       /config/bigip.conf
                  result:
                    type: boolean
                  ucs_to_verify_name:
                    type: string
                    example: /path/to/ucs_to_verify.ucs
        '202':
          description: Deployment operation has started
        '400':
          description: Found syntax error in source config
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: 'Invalid input: Errors found during parsed config load: {''file'': ''bigip.conf'', ''error'': ''ParserSyntaxError(\''unexpected end of file, expecting "}" to match "{" from line 2\'', None, 262)'', ''line'': 262}'
                  status_code:
                    type: integer
                    example: 400
    get:
      summary: Get load validation status.
      operationId: get_load_validation
      tags:
        - Load validation
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Load validation status
          content:
            application/json:
              schema:
                type: object
                required:
                  - backup_name
                  - log
                  - result
                  - ucs_to_verify_name
                properties:
                  backup_name:
                    type: string
                    example: /path/to/backup_name.ucs
                  log:
                    type: string
                    example: |
                      Validating system configuration...
                       /defaults/asm_base.conf
                       /defaults/config_base.conf
                       /defaults/ipfix_ie_base.conf
                       /defaults/ipfix_ie_f5base.conf
                       /defaults/low_profile_base.conf
                       /defaults/low_security_base.conf
                       /defaults/policy_base.conf
                       /defaults/wam_base.conf
                       /defaults/analytics_base.conf
                       /defaults/apm_base.conf
                       /defaults/apm_saml_base.conf
                       /defaults/app_template_base.conf
                       /defaults/classification_base.conf
                       /var/libdata/dpi/conf/classification_update.conf
                       /defaults/urlcat_base.conf
                       /defaults/daemon.conf
                       /defaults/pem_base.conf
                       /defaults/profile_base.conf
                       /defaults/sandbox_base.conf
                       /defaults/security_base.conf
                       /defaults/urldb_base.conf
                       /usr/share/monitors/base_monitors.conf
                       Validating configuration...
                       /config/bigip_base.conf
                       /config/bigip_user.conf
                       /config/bigip.conf
                  result:
                    type: boolean
                  ucs_to_verify_name:
                    type: string
                    example: /path/to/ucs_to_verify.ucs
  '/sessions/{session_id}/load_validation/revert':
    post:
      summary: Revert changes added in load validation text editor.
      operationId: load_validation_revert
      tags:
        - Load validation
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Load validation changes has been reverted.
  '/sessions/{session_id}/load_validation/check':
    post:
      summary: Verify changes added in load validation editor.
      operationId: load_validation_check
      tags:
        - Load validation
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        description: Device Credentials
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - username
                - password
              properties:
                username:
                  type: string
                password:
                  type: string
                  format: password
                  writeOnly: true
      responses:
        '200':
          description: Load validation check
          content:
            application/json:
              schema:
                type: object
                required:
                  - backup_name
                  - log
                  - result
                  - ucs_to_verify_name
                properties:
                  backup_name:
                    type: string
                    example: /path/to/backup_name.ucs
                  log:
                    type: string
                    example: |
                      Validating system configuration...
                       /defaults/asm_base.conf
                       /defaults/config_base.conf
                       /defaults/ipfix_ie_base.conf
                       /defaults/ipfix_ie_f5base.conf
                       /defaults/low_profile_base.conf
                       /defaults/low_security_base.conf
                       /defaults/policy_base.conf
                       /defaults/wam_base.conf
                       /defaults/analytics_base.conf
                       /defaults/apm_base.conf
                       /defaults/apm_saml_base.conf
                       /defaults/app_template_base.conf
                       /defaults/classification_base.conf
                       /var/libdata/dpi/conf/classification_update.conf
                       /defaults/urlcat_base.conf
                       /defaults/daemon.conf
                       /defaults/pem_base.conf
                       /defaults/profile_base.conf
                       /defaults/sandbox_base.conf
                       /defaults/security_base.conf
                       /defaults/urldb_base.conf
                       /usr/share/monitors/base_monitors.conf
                       Validating configuration...
                       /config/bigip_base.conf
                       /config/bigip_user.conf
                       /config/bigip.conf
                  result:
                    type: boolean
                  ucs_to_verify_name:
                    type: string
                    example: /path/to/ucs_to_verify.ucs
  '/sessions/{session_id}/load_validation/clear':
    post:
      summary: Revert all changes in config as well as on destination.
      operationId: load_validation_clean
      tags:
        - Load validation
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        description: Device Credentials
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - username
                - password
              properties:
                username:
                  type: string
                password:
                  type: string
                  format: password
                  writeOnly: true
      responses:
        '204':
          description: Load validation clean
  '/sessions/{session_id}/load_validation/finish':
    post:
      summary: Finish load validation and apply all config changes to configs files.
      operationId: load_validation_finish
      tags:
        - Load validation
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        description: Device Credentials
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - username
                - password
              properties:
                username:
                  type: string
                password:
                  type: string
                  format: password
                  writeOnly: true
      responses:
        '204':
          description: Load validation finish
  '/sessions/{session_id}/output':
    post:
      summary: Get output UCS/AS3
      operationId: generate_output
      tags:
        - Configuration output and deployment
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                use_passphrase:
                  type: boolean
                  default: true
      responses:
        '200':
          description: Generated output
          content:
            application/json:
              schema:
                oneOf:
                  - type: object
                    required:
                      - ucs_link
                      - commands
                    properties:
                      ucs_passphrase:
                        type: string
                        example: abcdefghijkl
                      ucs_link:
                        type: string
                        example: 'http://<hostname>/sessions/<session_id>/root_files/output.ucs'
                      as3_link:
                        type: string
                        example: 'http://<hostname>/sessions/<session_id>/root_files/output.as3'
                      commands:
                        type: array
                        items:
                          type: object
                          properties:
                            command:
                              type: string
                            description:
                              type: string
                            device:
                              type: string
                              enum:
                                - local
                                - source
                                - destination
                        example:
                          - description: Copy UCS to the Destination
                            command: 'scp <path_to_ucs> <username>@<destination_ip>:/var/local/ucs'
                            device: local
                          - description: Load the UCS
                            command: tmsh load sys ucs example.ucs passphrase abcdefghijkl platform-migrate no-license keep-current-management-ip reset-trust
                            device: destination
                  - type: object
                    required:
                      - as3_link
                      - commands
                    properties:
                      as3_link:
                        type: string
                        example: 'http://<hostname>/sessions/<session_id>/root_files/output.json'
                      commands:
                        type: array
                        items:
                          type: object
                          properties:
                            command:
                              type: string
                            description:
                              type: string
                            device:
                              type: string
                              enum:
                                - local
                                - source
                                - destination
                        example:
                          - description: Deploy AS3 declaration
                            command: 'curl -kX POST -d @<path_to_output.json> -u <username> https://<destination_ip>/mgmt/shared/appsvcs/declare'
                            device: local
                      deployable_objects_link:
                        type: string
                        example: 'http://<hostname>/sessions/<session_id>/root_files/output.tar.gpg'
                      deployable_objects_passphrase:
                        type: string
                        example: password
        '409':
          description: Not all issues have been resolved.
          content:
            application/json:
              schema:
                type: object
                required:
                  - status_code
                  - detail
                properties:
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/deployments/check_resources':
    post:
      summary: Check if the destination has enough resources to migrate the UCS.
      operationId: check_resources
      tags:
        - Configuration output and deployment
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        description: System Credentials
        required: true
        content:
          application/json:
            schema:
              allOf:
                - type: object
                  required:
                    - username
                    - password
                  properties:
                    username:
                      type: string
                    password:
                      type: string
                      format: password
                      writeOnly: true
                - type: object
                  required:
                    - host
                  properties:
                    host:
                      type: string
      responses:
        '200':
          description: Results from resource check
          content:
            application/json:
              schema:
                type: object
                required:
                  - result
                  - detail
                properties:
                  result:
                    type: string
                    enum:
                      - PASS
                      - FAIL
                  detail:
                    type: string
                    example: Minimum recommended requirements for resources are met.
        '400':
          description: Found syntax error in source config
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: 'Invalid input: Errors found during parsed config load: {''file'': ''bigip.conf'', ''error'': ''ParserSyntaxError(\''unexpected end of file, expecting "}" to match "{" from line 2\'', None, 262)'', ''line'': 262}'
                  status_code:
                    type: integer
                    example: 400
        '401':
          description: Given credentials are not valid
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: 'Invalid credentials: 10.0.0.1'
                  status_code:
                    type: integer
                    example: 401
        '404':
          description: Given system does not exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        '409':
          description: Given system is different than saved destination
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: 'Given system is different than saved destination: Version(current=16.1.0, expected=14.1.4.3), Platform(current=C116, expected=Z100)'
                  status_code:
                    type: integer
                    example: 409
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  /supported_validators:
    get:
      summary: Get list of supported deployment validators
      operationId: get_supported_validators
      tags:
        - Before You Start
      responses:
        '200':
          description: List of supported deployment validators with the descriptions
          content:
            application/json:
              schema:
                type: object
                required:
                  - validators
                properties:
                  validators:
                    type: object
                    additionalProperties: true
                    example:
                      MCP status:
                        require_source: false
                        require_root: true
                        description: 'Checks if values of returned fields are correct. This method uses ''tmsh showsys mcp-state field-fmt'' '
                      TMM status:
                        require_source: false
                        require_root: true
                        description: Logs status of TMM. Requires manual evaluation.
                      Prompt state:
                        require_source: false
                        require_root: true
                        description: Checks if prompt state is in active mode.
                      Core dumps:
                        require_source: false
                        require_root: true
                        description: Checks if diagnostic core dumps were created.
                      DB compare:
                        require_source: true
                        require_root: false
                        description: Compares two system DBs getting them from iControl endpoint for sys db. Requires manual evaluation.
                      Memory footprint:
                        require_source: true
                        require_root: true
                        description: 'Compares information from ''tmsh show sys provision'' for both systems. Requires manual evaluation. '
                      Version check:
                        require_source: true
                        require_root: true
                        description: Compares information from 'tmsh show sys version' for both systems. Requires manual evaluation.
                      LTM VS check:
                        require_source: false
                        require_root: false
                        description: Check lists of all defined LTM nodes and Virtual Servers configured in the new system.
                      Log watcher:
                        require_source: false
                        require_root: true
                        description: Check looks for 'ERR' and 'CRIT' phrases (case insensitive) that appear in log during UCS deployment process.
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  /supported_perapp_settings:
    get:
      summary: Get list of supported perapp settings
      operationId: get_supported_perapp_settings
      tags:
        - Before You Start
      responses:
        '200':
          description: List of supported perapp settings with the descriptions
          content:
            application/json:
              schema:
                type: object
                required:
                  - settings
                properties:
                  settings:
                    type: array
                    items:
                      type: object
                      properties:
                        value:
                          type: string
                        name:
                          type: string
                        description:
                          type: string
                    example:
                      - value: ltm pool
                        name: Pool
                        description: Merge two virtual servers if they use common pool
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/deployments':
    post:
      summary: Deploy configuration to given system and validate the results
      operationId: start_deployment_operation
      tags:
        - Configuration output and deployment
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
        - name: async
          in: query
          description: Should the task run asyncronously
          required: false
          schema:
            type: string
          example: true
      requestBody:
        description: Deployment configuration
        required: true
        content:
          application/json:
            schema:
              allOf:
                - type: object
                  required:
                    - destination
                    - validators
                  properties:
                    id:
                      type: integer
                      readOnly: true
                      example: 1
                    url:
                      type: string
                      format: uri
                      readOnly: true
                    source:
                      type: object
                      properties:
                        host:
                          type: string
                          example: 10.0.0.1
                        username:
                          type: string
                          example: root
                        password:
                          type: string
                          example: default
                          writeOnly: true
                    destination:
                      type: object
                      properties:
                        host:
                          type: string
                          example: 10.0.0.2
                        username:
                          type: string
                          example: root
                        password:
                          type: string
                          example: default
                          writeOnly: true
                    bigiq:
                      type: object
                      properties:
                        host:
                          type: string
                          example: 10.0.0.2
                        username:
                          type: string
                          example: root
                        password:
                          type: string
                          example: default
                          writeOnly: true
                    validators:
                      type: array
                      items:
                        type: string
                        enum:
                          - MCP status
                          - TMM status
                          - Prompt state
                          - Core dumps
                          - DB compare
                          - Memory footprint
                          - Version check
                          - LTM VS check
                          - Log watcher
                      additionalProperties: true
                      example:
                        - Prompt state
                        - MCP status
                        - Log watcher
                    save_backup:
                      type: boolean
                    status:
                      type: string
                      enum:
                        - Deploying
                        - Diagnosing
                        - Process failed
                        - Process completed
                      readOnly: true
                - type: object
                  properties:
                    deploy_as3:
                      type: boolean
                      default: true
      responses:
        '200':
          description: Synchronous deployment operation has finished
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - destination
                      - validators
                    properties:
                      id:
                        type: integer
                        readOnly: true
                        example: 1
                      url:
                        type: string
                        format: uri
                        readOnly: true
                      source:
                        type: object
                        properties:
                          host:
                            type: string
                            example: 10.0.0.1
                          username:
                            type: string
                            example: root
                          password:
                            type: string
                            example: default
                            writeOnly: true
                      destination:
                        type: object
                        properties:
                          host:
                            type: string
                            example: 10.0.0.2
                          username:
                            type: string
                            example: root
                          password:
                            type: string
                            example: default
                            writeOnly: true
                      bigiq:
                        type: object
                        properties:
                          host:
                            type: string
                            example: 10.0.0.2
                          username:
                            type: string
                            example: root
                          password:
                            type: string
                            example: default
                            writeOnly: true
                      validators:
                        type: array
                        items:
                          type: string
                          enum:
                            - MCP status
                            - TMM status
                            - Prompt state
                            - Core dumps
                            - DB compare
                            - Memory footprint
                            - Version check
                            - LTM VS check
                            - Log watcher
                        additionalProperties: true
                        example:
                          - Prompt state
                          - MCP status
                          - Log watcher
                      save_backup:
                        type: boolean
                      status:
                        type: string
                        enum:
                          - Deploying
                          - Diagnosing
                          - Process failed
                          - Process completed
                        readOnly: true
                  - type: object
                    properties:
                      results:
                        type: array
                        items:
                          type: object
                          properties:
                            time:
                              type: string
                            message:
                              type: string
                          example:
                            time: '2021-01-28T15:24:05.029102Z'
                            message: Destination backup was created.
                      details:
                        type: object
                        readOnly: true
                        properties:
                          stages:
                            type: array
                            items:
                              type: object
                              additionalProperties:
                                type: object
                                required:
                                  - name
                                  - status
                                properties:
                                  name:
                                    type: string
                                  status:
                                    type: string
                                    enum:
                                      - Waiting
                                      - Running
                                      - Completed
                                      - Skipped
                                  result:
                                    type: string
                                    nullable: true
                                    enum:
                                      - Success
                                      - Failure
                                      - User Evaluation
                                  start_time:
                                    type: string
                                    format: date-time
                                    example: '2021-01-28T15:24:05.029102Z'
                                  run_time:
                                    type: integer
                          validators:
                            type: array
                            items:
                              type: object
                              additionalProperties:
                                type: object
                                required:
                                  - name
                                  - status
                                properties:
                                  name:
                                    type: string
                                  status:
                                    type: string
                                    enum:
                                      - Waiting
                                      - Running
                                      - Completed
                                      - Skipped
                                  result:
                                    type: string
                                    nullable: true
                                    enum:
                                      - Success
                                      - Failure
                                      - User Evaluation
                                  start_time:
                                    type: string
                                    format: date-time
                                    example: '2021-01-28T15:24:05.029102Z'
                                  run_time:
                                    type: integer
                          deploayble_objects:
                            type: array
                            items:
                              type: object
                              additionalProperties:
                                type: object
                                required:
                                  - name
                                  - status
                                properties:
                                  name:
                                    type: string
                                  status:
                                    type: string
                                    enum:
                                      - Waiting
                                      - Running
                                      - Completed
                                      - Skipped
                                  result:
                                    type: string
                                    nullable: true
                                    enum:
                                      - Success
                                      - Failure
                                      - User Evaluation
                                  start_time:
                                    type: string
                                    format: date-time
                                    example: '2021-01-28T15:24:05.029102Z'
                                  run_time:
                                    type: integer
                          tenants:
                            type: array
                            items:
                              type: object
                              additionalProperties:
                                type: object
                                required:
                                  - name
                                  - status
                                properties:
                                  name:
                                    type: string
                                  status:
                                    type: string
                                    enum:
                                      - Waiting
                                      - Running
                                      - Completed
                                      - Skipped
                                  result:
                                    type: string
                                    nullable: true
                                    enum:
                                      - Success
                                      - Failure
                                      - User Evaluation
                                  start_time:
                                    type: string
                                    format: date-time
                                    example: '2021-01-28T15:24:05.029102Z'
                                  run_time:
                                    type: integer
                      output_as3_link:
                        type: string
                        readOnly: true
                        example: 'http://localhost:8443/sessions/1/root_files/output.json'
        '202':
          description: Deployment operation has started
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - destination
                      - validators
                    properties:
                      id:
                        type: integer
                        readOnly: true
                        example: 1
                      url:
                        type: string
                        format: uri
                        readOnly: true
                      source:
                        type: object
                        properties:
                          host:
                            type: string
                            example: 10.0.0.1
                          username:
                            type: string
                            example: root
                          password:
                            type: string
                            example: default
                            writeOnly: true
                      destination:
                        type: object
                        properties:
                          host:
                            type: string
                            example: 10.0.0.2
                          username:
                            type: string
                            example: root
                          password:
                            type: string
                            example: default
                            writeOnly: true
                      bigiq:
                        type: object
                        properties:
                          host:
                            type: string
                            example: 10.0.0.2
                          username:
                            type: string
                            example: root
                          password:
                            type: string
                            example: default
                            writeOnly: true
                      validators:
                        type: array
                        items:
                          type: string
                          enum:
                            - MCP status
                            - TMM status
                            - Prompt state
                            - Core dumps
                            - DB compare
                            - Memory footprint
                            - Version check
                            - LTM VS check
                            - Log watcher
                        additionalProperties: true
                        example:
                          - Prompt state
                          - MCP status
                          - Log watcher
                      save_backup:
                        type: boolean
                      status:
                        type: string
                        enum:
                          - Deploying
                          - Diagnosing
                          - Process failed
                          - Process completed
                        readOnly: true
                  - type: object
                    properties:
                      results:
                        type: array
                        items:
                          type: object
                          properties:
                            time:
                              type: string
                            message:
                              type: string
                          example:
                            time: '2021-01-28T15:24:05.029102Z'
                            message: Destination backup was created.
                      details:
                        type: object
                        readOnly: true
                        properties:
                          stages:
                            type: array
                            items:
                              type: object
                              additionalProperties:
                                type: object
                                required:
                                  - name
                                  - status
                                properties:
                                  name:
                                    type: string
                                  status:
                                    type: string
                                    enum:
                                      - Waiting
                                      - Running
                                      - Completed
                                      - Skipped
                                  result:
                                    type: string
                                    nullable: true
                                    enum:
                                      - Success
                                      - Failure
                                      - User Evaluation
                                  start_time:
                                    type: string
                                    format: date-time
                                    example: '2021-01-28T15:24:05.029102Z'
                                  run_time:
                                    type: integer
                          validators:
                            type: array
                            items:
                              type: object
                              additionalProperties:
                                type: object
                                required:
                                  - name
                                  - status
                                properties:
                                  name:
                                    type: string
                                  status:
                                    type: string
                                    enum:
                                      - Waiting
                                      - Running
                                      - Completed
                                      - Skipped
                                  result:
                                    type: string
                                    nullable: true
                                    enum:
                                      - Success
                                      - Failure
                                      - User Evaluation
                                  start_time:
                                    type: string
                                    format: date-time
                                    example: '2021-01-28T15:24:05.029102Z'
                                  run_time:
                                    type: integer
                          deploayble_objects:
                            type: array
                            items:
                              type: object
                              additionalProperties:
                                type: object
                                required:
                                  - name
                                  - status
                                properties:
                                  name:
                                    type: string
                                  status:
                                    type: string
                                    enum:
                                      - Waiting
                                      - Running
                                      - Completed
                                      - Skipped
                                  result:
                                    type: string
                                    nullable: true
                                    enum:
                                      - Success
                                      - Failure
                                      - User Evaluation
                                  start_time:
                                    type: string
                                    format: date-time
                                    example: '2021-01-28T15:24:05.029102Z'
                                  run_time:
                                    type: integer
                          tenants:
                            type: array
                            items:
                              type: object
                              additionalProperties:
                                type: object
                                required:
                                  - name
                                  - status
                                properties:
                                  name:
                                    type: string
                                  status:
                                    type: string
                                    enum:
                                      - Waiting
                                      - Running
                                      - Completed
                                      - Skipped
                                  result:
                                    type: string
                                    nullable: true
                                    enum:
                                      - Success
                                      - Failure
                                      - User Evaluation
                                  start_time:
                                    type: string
                                    format: date-time
                                    example: '2021-01-28T15:24:05.029102Z'
                                  run_time:
                                    type: integer
                      output_as3_link:
                        type: string
                        readOnly: true
                        example: 'http://localhost:8443/sessions/1/root_files/output.json'
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
    get:
      summary: Get deployments list
      operationId: get_deployments_list
      tags:
        - Configuration output and deployment
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: List of deployments
          content:
            application/json:
              schema:
                type: object
                required:
                  - count
                properties:
                  count:
                    type: integer
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          example: 1
                        url:
                          type: string
                          example: 'http://localhost/sessions/{session_id}/deployments/{deployment_id}'
                        source:
                          type: string
                          example: 10.0.0.1
                        destination:
                          type: string
                          example: 10.0.0.2
                        validators:
                          type: array
                          items:
                            type: string
                            example:
                              - Prompt state
                              - MCP status
                              - Log watcher
                        status:
                          type: string
                          example: Process completed
                        backup_name:
                          type: string
                          example: journey_ucs_backup.ucs
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/deployments/{deployment_id}':
    get:
      summary: Get status of deployment operation
      operationId: get_deployment_operation_status
      tags:
        - Configuration output and deployment
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
        - name: deployment_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Deployment operation status
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - destination
                      - validators
                    properties:
                      id:
                        type: integer
                        readOnly: true
                        example: 1
                      url:
                        type: string
                        format: uri
                        readOnly: true
                      source:
                        type: object
                        properties:
                          host:
                            type: string
                            example: 10.0.0.1
                          username:
                            type: string
                            example: root
                          password:
                            type: string
                            example: default
                            writeOnly: true
                      destination:
                        type: object
                        properties:
                          host:
                            type: string
                            example: 10.0.0.2
                          username:
                            type: string
                            example: root
                          password:
                            type: string
                            example: default
                            writeOnly: true
                      bigiq:
                        type: object
                        properties:
                          host:
                            type: string
                            example: 10.0.0.2
                          username:
                            type: string
                            example: root
                          password:
                            type: string
                            example: default
                            writeOnly: true
                      validators:
                        type: array
                        items:
                          type: string
                          enum:
                            - MCP status
                            - TMM status
                            - Prompt state
                            - Core dumps
                            - DB compare
                            - Memory footprint
                            - Version check
                            - LTM VS check
                            - Log watcher
                        additionalProperties: true
                        example:
                          - Prompt state
                          - MCP status
                          - Log watcher
                      save_backup:
                        type: boolean
                      status:
                        type: string
                        enum:
                          - Deploying
                          - Diagnosing
                          - Process failed
                          - Process completed
                        readOnly: true
                  - type: object
                    properties:
                      results:
                        type: array
                        items:
                          type: object
                          properties:
                            time:
                              type: string
                            message:
                              type: string
                          example:
                            time: '2021-01-28T15:24:05.029102Z'
                            message: Destination backup was created.
                      details:
                        type: object
                        readOnly: true
                        properties:
                          stages:
                            type: array
                            items:
                              type: object
                              additionalProperties:
                                type: object
                                required:
                                  - name
                                  - status
                                properties:
                                  name:
                                    type: string
                                  status:
                                    type: string
                                    enum:
                                      - Waiting
                                      - Running
                                      - Completed
                                      - Skipped
                                  result:
                                    type: string
                                    nullable: true
                                    enum:
                                      - Success
                                      - Failure
                                      - User Evaluation
                                  start_time:
                                    type: string
                                    format: date-time
                                    example: '2021-01-28T15:24:05.029102Z'
                                  run_time:
                                    type: integer
                          validators:
                            type: array
                            items:
                              type: object
                              additionalProperties:
                                type: object
                                required:
                                  - name
                                  - status
                                properties:
                                  name:
                                    type: string
                                  status:
                                    type: string
                                    enum:
                                      - Waiting
                                      - Running
                                      - Completed
                                      - Skipped
                                  result:
                                    type: string
                                    nullable: true
                                    enum:
                                      - Success
                                      - Failure
                                      - User Evaluation
                                  start_time:
                                    type: string
                                    format: date-time
                                    example: '2021-01-28T15:24:05.029102Z'
                                  run_time:
                                    type: integer
                          deploayble_objects:
                            type: array
                            items:
                              type: object
                              additionalProperties:
                                type: object
                                required:
                                  - name
                                  - status
                                properties:
                                  name:
                                    type: string
                                  status:
                                    type: string
                                    enum:
                                      - Waiting
                                      - Running
                                      - Completed
                                      - Skipped
                                  result:
                                    type: string
                                    nullable: true
                                    enum:
                                      - Success
                                      - Failure
                                      - User Evaluation
                                  start_time:
                                    type: string
                                    format: date-time
                                    example: '2021-01-28T15:24:05.029102Z'
                                  run_time:
                                    type: integer
                          tenants:
                            type: array
                            items:
                              type: object
                              additionalProperties:
                                type: object
                                required:
                                  - name
                                  - status
                                properties:
                                  name:
                                    type: string
                                  status:
                                    type: string
                                    enum:
                                      - Waiting
                                      - Running
                                      - Completed
                                      - Skipped
                                  result:
                                    type: string
                                    nullable: true
                                    enum:
                                      - Success
                                      - Failure
                                      - User Evaluation
                                  start_time:
                                    type: string
                                    format: date-time
                                    example: '2021-01-28T15:24:05.029102Z'
                                  run_time:
                                    type: integer
                      output_as3_link:
                        type: string
                        readOnly: true
                        example: 'http://localhost:8443/sessions/1/root_files/output.json'
        '404':
          description: Given deployment operation does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
  '/sessions/{session_id}/deployments/{deployment_id}/log':
    get:
      summary: Get deployment operation's log file
      operationId: get_deployment_operation_log_file
      tags:
        - Configuration output and deployment
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
        - name: deployment_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Deployment operation log file
          content:
            text/plain:
              schema:
                type: string
                format: binary
        '204':
          description: Logs are not available.
        '400':
          description: Given deployment operation did not finish yet
          content:
            application/json:
              schema:
                type: object
                required:
                  - status_code
                  - detail
                properties:
                  detail:
                    type: string
                  status_code:
                    type: integer
        '404':
          description: Given deployment operation does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
  '/sessions/{session_id}/deployments/{deployment_id}/report':
    post:
      summary: Generate deployment report
      operationId: generate_deployment_report
      tags:
        - Configuration output and deployment
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
        - name: deployment_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Deployment report
          content:
            application/pdf:
              schema:
                type: string
                format: binary
        '204':
          description: Deployment report is not available.
        '404':
          description: Given deployment operation does not exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: Object not found
                  status_code:
                    type: integer
                    example: 404
        default:
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - status_code
                  - detail
                properties:
                  error:
                    type: string
                  detail:
                    type: string
                  status_code:
                    type: integer
